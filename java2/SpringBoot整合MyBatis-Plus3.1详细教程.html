<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修SpringBoot整合MyBatis-Plus3.1详细教程' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>SpringBoot整合MyBatis-Plus3.1详细教程</center></div><div class='banquan'>原文出处:本文由博客园博主小__伟提供。<br/>
原文连接:https://www.cnblogs.com/qwlscn/p/11490071.html</div><br>
    <h2>一.说明</h2>
<p>Mybatis-Plus是一个Mybatis框架的增强插件,根据官方描述,MP只做增强不做改变,引入它不会对现有工程产生影响,如丝般顺滑.并且只需简单配置,即可快速进行 CRUD 操作,从而节省大量时间.代码生成,分页,性能分析等功能一应俱全,最新已经更新到了3.1.1版本了,3.X系列支持lambda语法,让我在写条件构造的时候少了很多的"魔法值",从代码结构上更简洁了.</p>
<h2>二.项目环境</h2>
<ul>
<li>
<p>MyBatis-Plus版本: 3.1.0</p>
</li>
<li>
<p>SpringBoot版本:2.1.5</p>
</li>
<li>
<p>JDK版本:1.8</p>
</li>
</ul>
<p>Maven依赖如下：</p>
<src class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_wrapper_has cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="代码段" data-cke-widget-id="16">
<pre><code><code class="hljs">&lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;mysql&lt;/groupId&gt;
            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
            &lt;scope&gt;runtime&lt;/scope&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
            &lt;artifactId&gt;lombok&lt;/artifactId&gt;
            &lt;optional&gt;true&lt;/optional&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;
        &lt;!-- mybatisPlus 核心库 --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.baomidou&lt;/groupId&gt;
            &lt;artifactId&gt;mybatis-plus-boot-starter&lt;/artifactId&gt;
            &lt;version&gt;3.1.0&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;!-- 引入阿里数据库连接池 --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;
            &lt;artifactId&gt;druid&lt;/artifactId&gt;
            &lt;version&gt;1.1.6&lt;/version&gt;
        &lt;/dependency&gt;
&lt;/dependencies&gt;</code></code></pre>
<span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /></span>
<p>配置如下:</p>
<src class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_wrapper_has cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="代码段" data-cke-widget-id="15">
<pre class="has cke_widget_element" data-cke-widget-data="{&amp;quot;code&amp;quot;:&amp;quot;# 配置端口\nserver:\n  port: 8081\nspring:\n  # 配置数据源\n  datasource:\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    url: jdbc:mysql://localhost:3306/mp_student?useUnicode=true&amp;amp;characterEncoding=utf-8\n    username: root\n    password: root\n    type: com.alibaba.druid.pool.DruidDataSource\n# mybatis-plus相关配置\nmybatis-plus:\n  # xml扫描，多个目录用逗号或者分号分隔（告诉 Mapper 所对应的 XML 文件位置）\n  mapper-locations: classpath:mapper/*.xml\n  # 以下配置均有默认值,可以不设置\n  global-config:\n    db-config:\n      #主键类型 AUTO:\&amp;quot;数据库ID自增\&amp;quot; INPUT:\&amp;quot;用户输入ID\&amp;quot;,ID_WORKER:\&amp;quot;全局唯一ID (数字类型唯一ID)\&amp;quot;, UUID:\&amp;quot;全局唯一ID UUID\&amp;quot;;\n      id-type: auto\n      #字段策略 IGNORED:\&amp;quot;忽略判断\&amp;quot;  NOT_NULL:\&amp;quot;非 NULL 判断\&amp;quot;)  NOT_EMPTY:\&amp;quot;非空判断\&amp;quot;\n      field-strategy: NOT_EMPTY\n      #数据库类型\n      db-type: MYSQL\n  configuration:\n    # 是否开启自动驼峰命名规则映射:从数据库列名到Java属性驼峰命名的类似映射\n    map-underscore-to-camel-case: true\n    # 如果查询结果中包含空值的列，则 MyBatis 在映射的时候，不会映射这个字段\n    call-setters-on-nulls: true\n    # 这个配置会将执行的sql打印出来，在开发或测试的时候可以用\n    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="codeSnippet"><code class="hljs"># 配置端口
server:
  port: 8081
spring:
  # 配置数据源
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/mp_student?useUnicode=true&amp;characterEncoding=utf-8
    username: root
    password: root
    type: com.alibaba.druid.pool.DruidDataSource
# mybatis-plus相关配置
mybatis-plus:
  # xml扫描，多个目录用逗号或者分号分隔（告诉 Mapper 所对应的 XML 文件位置）
  mapper-locations: classpath:mapper/*.xml
  # 以下配置均有默认值,可以不设置
  global-config:
    db-config:
      #主键类型 AUTO:"数据库ID自增" INPUT:"用户输入ID",ID_WORKER:"全局唯一ID (数字类型唯一ID)", UUID:"全局唯一ID UUID";
      id-type: auto
      #字段策略 IGNORED:"忽略判断"  NOT_NULL:"非 NULL 判断")  NOT_EMPTY:"非空判断"
      field-strategy: NOT_EMPTY
      #数据库类型
      db-type: MYSQL
  configuration:
    # 是否开启自动驼峰命名规则映射:从数据库列名到Java属性驼峰命名的类似映射
    map-underscore-to-camel-case: true
    # 如果查询结果中包含空值的列，则 MyBatis 在映射的时候，不会映射这个字段
    call-setters-on-nulls: true
    # 这个配置会将执行的sql打印出来，在开发或测试的时候可以用
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl</code></code></pre>
<span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /></span>
<p>表结构:</p>
<src class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_wrapper_has cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="代码段" data-cke-widget-id="14">
<pre class="has cke_widget_element" data-cke-widget-data="{&amp;quot;code&amp;quot;:&amp;quot;CREATE TABLE `user_info` (\n  `id` bigint(11) NOT NULL AUTO_INCREMENT COMMENT 'ID',\n  `name` varchar(32) DEFAULT NULL COMMENT '姓名',\n  `age` int(11) DEFAULT NULL COMMENT '年龄',\n  `skill` varchar(32) DEFAULT NULL COMMENT '技能',\n  `evaluate` varchar(64) DEFAULT NULL COMMENT '评价',\n  `fraction` bigint(11) DEFAULT NULL COMMENT '分数',\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB AUTO_INCREMENT=16 DEFAULT CHARSET=utf8mb4 COMMENT='学生信息表';&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="codeSnippet"><code class="hljs">CREATE TABLE `user_info` (
  `id` bigint(11) NOT NULL AUTO_INCREMENT COMMENT 'ID',
  `name` varchar(32) DEFAULT NULL COMMENT '姓名',
  `age` int(11) DEFAULT NULL COMMENT '年龄',
  `skill` varchar(32) DEFAULT NULL COMMENT '技能',
  `evaluate` varchar(64) DEFAULT NULL COMMENT '评价',
  `fraction` bigint(11) DEFAULT NULL COMMENT '分数',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=16 DEFAULT CHARSET=utf8mb4 COMMENT='学生信息表';</code></code></pre>
<span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /></span>
<p>表数据:</p>
<src class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_wrapper_has cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="代码段" data-cke-widget-id="13">
<pre class="has cke_widget_element" data-cke-widget-data="{&amp;quot;code&amp;quot;:&amp;quot;INSERT INTO `user_info` VALUES (1, '小明', 20, '画画', '该学生在画画方面有一定天赋', 89);\nINSERT INTO `user_info` VALUES (2, '小兰', 19, '游戏', '近期该学生由于游戏的原因导致分数降低了', 64);\nINSERT INTO `user_info` VALUES (3, '张张', 18, '英语', '近期该学生参加英语比赛获得二等奖', 90);\nINSERT INTO `user_info` VALUES (4, '大黄', 20, '体育', '该学生近期由于参加篮球比赛,导致脚伤', 76);\nINSERT INTO `user_info` VALUES (5, '大白', 17, '绘画', '该学生参加美术大赛获得三等奖', 77);\nINSERT INTO `user_info` VALUES (7, '小龙', 18, 'JAVA', '该学生是一个在改BUG的码农', 59);\nINSERT INTO `user_info` VALUES (9, 'Sans', 18, '睡觉', 'Sans是一个爱睡觉,并且身材较矮骨骼巨大的骷髅小胖子', 60);\nINSERT INTO `user_info` VALUES (10, 'papyrus', 18, 'JAVA', 'Papyrus是一个讲话大声、个性张扬的骷髅，给人自信、有魅力的骷髅小瘦子', 58);\nINSERT INTO `user_info` VALUES (11, '删除数据1', 3, '画肖像', NULL, 61);\nINSERT INTO `user_info` VALUES (12, '删除数据2', 3, NULL, NULL, 61);\nINSERT INTO `user_info` VALUES (13, '删除数据3', 3, NULL, NULL, 61);\nINSERT INTO `user_info` VALUES (14, '删除数据4', 5, '删除', NULL, 10);\nINSERT INTO `user_info` VALUES (15, '删除数据5', 6, '删除', NULL, 10);&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="codeSnippet"><code class="hljs">INSERT INTO `user_info` VALUES (1, '小明', 20, '画画', '该学生在画画方面有一定天赋', 89);
INSERT INTO `user_info` VALUES (2, '小兰', 19, '游戏', '近期该学生由于游戏的原因导致分数降低了', 64);
INSERT INTO `user_info` VALUES (3, '张张', 18, '英语', '近期该学生参加英语比赛获得二等奖', 90);
INSERT INTO `user_info` VALUES (4, '大黄', 20, '体育', '该学生近期由于参加篮球比赛,导致脚伤', 76);
INSERT INTO `user_info` VALUES (5, '大白', 17, '绘画', '该学生参加美术大赛获得三等奖', 77);
INSERT INTO `user_info` VALUES (7, '小龙', 18, 'JAVA', '该学生是一个在改BUG的码农', 59);
INSERT INTO `user_info` VALUES (9, 'Sans', 18, '睡觉', 'Sans是一个爱睡觉,并且身材较矮骨骼巨大的骷髅小胖子', 60);
INSERT INTO `user_info` VALUES (10, 'papyrus', 18, 'JAVA', 'Papyrus是一个讲话大声、个性张扬的骷髅，给人自信、有魅力的骷髅小瘦子', 58);
INSERT INTO `user_info` VALUES (11, '删除数据1', 3, '画肖像', NULL, 61);
INSERT INTO `user_info` VALUES (12, '删除数据2', 3, NULL, NULL, 61);
INSERT INTO `user_info` VALUES (13, '删除数据3', 3, NULL, NULL, 61);
INSERT INTO `user_info` VALUES (14, '删除数据4', 5, '删除', NULL, 10);
INSERT INTO `user_info` VALUES (15, '删除数据5', 6, '删除', NULL, 10);</code></code></pre>
<span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /></span>
<h2>三.编写基础类</h2>
<p>在启动类上添加扫描DAO的注解</p>
<src class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_wrapper_has cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="代码段" data-cke-widget-id="12">
<pre class="has cke_widget_element" data-cke-widget-data="{&amp;quot;code&amp;quot;:&amp;quot;@SpringBootApplication\n@MapperScan(basePackages = {\&amp;quot;com.mp.demo.dao\&amp;quot;}) //扫描DAO\npublic class DemoApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n}&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="codeSnippet"><code class="hljs">@SpringBootApplication
@MapperScan(basePackages = {"com.mp.demo.dao"}) //扫描DAO
public class DemoApplication {
    public static void main(String[] args) {
        SpringApplication.run(DemoApplication.class, args);
    }
}</code></code></pre>
<span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /></span>
<p>编写Config配置类</p>
<src class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_wrapper_has cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="代码段" data-cke-widget-id="11">
<pre class="has cke_widget_element" data-cke-widget-data="{&amp;quot;code&amp;quot;:&amp;quot;/**\n * @Description MybatisPlus配置类\n * @Author Sans\n * @CreateTime 2019/5/26 17:20\n */\n@Configuration\npublic class MybatisPlusConfig {\n    /**\n     * mybatis-plus SQL执行效率插件【生产环境可以关闭】\n     */\n    @Bean\n    public PerformanceInterceptor performanceInterceptor() {\n        return new PerformanceInterceptor();\n    }\n    /**\n     * 分页插件\n     */\n    @Bean\n    public PaginationInterceptor paginationInterceptor() {\n        return new PaginationInterceptor();\n    }\n}&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="codeSnippet"><code class="hljs">/**
 * @Description MybatisPlus配置类
 * @Author Sans
 * @CreateTime 2019/5/26 17:20
 */
@Configuration
public class MybatisPlusConfig {
    /**
     * mybatis-plus SQL执行效率插件【生产环境可以关闭】
     */
    @Bean
    public PerformanceInterceptor performanceInterceptor() {
        return new PerformanceInterceptor();
    }
    /**
     * 分页插件
     */
    @Bean
    public PaginationInterceptor paginationInterceptor() {
        return new PaginationInterceptor();
    }
}</code></code></pre>
<span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /></span>
<p>编写Entity类</p>
<src class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_wrapper_has cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="代码段" data-cke-widget-id="10">
<pre class="has cke_widget_element" data-cke-widget-data="{&amp;quot;code&amp;quot;:&amp;quot;/**\n * @Description 学生信息实体类\n * @Author Sans\n * @CreateTime 2019/5/26 21:41\n */\n@Data\n@TableName(\&amp;quot;user_info\&amp;quot;)//@TableName中的值对应着表名\npublic class UserInfoEntity {\n\n    /**\n     * 主键\n     * @TableId中可以决定主键的类型,不写会采取默认值,默认值可以在yml中配置\n     * AUTO: 数据库ID自增\n     * INPUT: 用户输入ID\n     * ID_WORKER: 全局唯一ID，Long类型的主键\n     * ID_WORKER_STR: 字符串全局唯一ID\n     * UUID: 全局唯一ID，UUID类型的主键\n     * NONE: 该类型为未设置主键类型\n     */\n    @TableId(type = IdType.AUTO)\n    private Long id;\n    /**\n     * 姓名\n     */\n    private String name;\n    /**\n     * 年龄\n     */\n    private Integer age;\n    /**\n     * 技能\n     */\n    private String skill;\n    /**\n     * 评价\n     */\n    private String evaluate;\n    /**\n     * 分数\n     */\n    private Long fraction;\n}&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="codeSnippet"><code class="hljs">/**
 * @Description 学生信息实体类
 * @Author Sans
 * @CreateTime 2019/5/26 21:41
 */
@Data
@TableName("user_info")//@TableName中的值对应着表名
public class UserInfoEntity {

    /**
     * 主键
     * @TableId中可以决定主键的类型,不写会采取默认值,默认值可以在yml中配置
     * AUTO: 数据库ID自增
     * INPUT: 用户输入ID
     * ID_WORKER: 全局唯一ID，Long类型的主键
     * ID_WORKER_STR: 字符串全局唯一ID
     * UUID: 全局唯一ID，UUID类型的主键
     * NONE: 该类型为未设置主键类型
     */
    @TableId(type = IdType.AUTO)
    private Long id;
    /**
     * 姓名
     */
    private String name;
    /**
     * 年龄
     */
    private Integer age;
    /**
     * 技能
     */
    private String skill;
    /**
     * 评价
     */
    private String evaluate;
    /**
     * 分数
     */
    private Long fraction;
}</code></code></pre>
<span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /></span>
<p>编写Dao类</p>
<src class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_wrapper_has cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="代码段" data-cke-widget-id="9">
<pre class="has cke_widget_element" data-cke-widget-data="{&amp;quot;code&amp;quot;:&amp;quot;/**\n * @Description 用户信息DAO\n * @Author Sans\n * @CreateTime 2019/6/8 16:24\n */\npublic interface UserInfoDao extends BaseMapper&amp;lt;UserInfoEntity&amp;gt; {\n}&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="codeSnippet"><code class="hljs">/**
 * @Description 用户信息DAO
 * @Author Sans
 * @CreateTime 2019/6/8 16:24
 */
public interface UserInfoDao extends BaseMapper&lt;UserInfoEntity&gt; {
}</code></code></pre>
<span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /></span>
<p>编写Service类</p>
<src class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_wrapper_has cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="代码段" data-cke-widget-id="8">
<pre class="has cke_widget_element" data-cke-widget-data="{&amp;quot;code&amp;quot;:&amp;quot;/**\n * @Description 用户业务接口\n * @Author Sans\n * @CreateTime 2019/6/8 16:26\n */\npublic interface UserInfoService extends IService&amp;lt;UserInfoEntity&amp;gt; {\n}&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="codeSnippet"><code class="hljs">/**
 * @Description 用户业务接口
 * @Author Sans
 * @CreateTime 2019/6/8 16:26
 */
public interface UserInfoService extends IService&lt;UserInfoEntity&gt; {
}</code></code></pre>
<span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /></span>
<p>编写ServiceImpl类</p>
<src class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_wrapper_has cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="代码段" data-cke-widget-id="7">
<pre class="has cke_widget_element" data-cke-widget-data="{&amp;quot;code&amp;quot;:&amp;quot;/**\n * @Description 用户业务实现\n * @Author Sans\n * @CreateTime 2019/6/8 16:26\n */\n@Service\n@Transactional\npublic class UserInfoSerivceImpl extends ServiceImpl&amp;lt;UserInfoDao, UserInfoEntity&amp;gt; implements UserInfoService {\n}&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="codeSnippet"><code class="hljs">/**
 * @Description 用户业务实现
 * @Author Sans
 * @CreateTime 2019/6/8 16:26
 */
@Service
@Transactional
public class UserInfoSerivceImpl extends ServiceImpl&lt;UserInfoDao, UserInfoEntity&gt; implements UserInfoService {
}</code></code></pre>
<span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /></span>
<h2>四.MyBatis-Plus基础演示</h2>
<p>这里我们看到,service中我们没有写任何方法,MyBatis-Plus官方封装了许多基本CRUD的方法,可以直接使用大量节约时间,MP共通方法详见IService,ServiceImpl,BaseMapper源码,写入操作在ServiceImpl中已有事务绑定,这里我们举一些常用的方法演示.</p>
<src class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_wrapper_has cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="代码段" data-cke-widget-id="6">
<pre class="has cke_widget_element" data-cke-widget-data="{&amp;quot;code&amp;quot;:&amp;quot;/**\n * @Description UserInfoController\n * @Author Sans\n * @CreateTime 2019/6/8 16:27\n */\n@RestController\n@RequestMapping(\&amp;quot;/userInfo\&amp;quot;)\npublic class UserInfoController {\n\n    @Autowired\n    private UserInfoService userInfoService;\n\n    /**\n     * 根据ID获取用户信息\n     * @Author Sans\n     * @CreateTime 2019/6/8 16:34\n     * @Param  userId  用户ID\n     * @Return UserInfoEntity 用户实体\n     */\n    @RequestMapping(\&amp;quot;/getInfo\&amp;quot;)\n    public UserInfoEntity getInfo(String userId){\n        UserInfoEntity userInfoEntity = userInfoService.getById(userId);\n        return userInfoEntity;\n    }\n    /**\n     * 查询全部信息\n     * @Author Sans\n     * @CreateTime 2019/6/8 16:35\n     * @Param  userId  用户ID\n     * @Return List&amp;lt;UserInfoEntity&amp;gt; 用户实体集合\n     */\n    @RequestMapping(\&amp;quot;/getList\&amp;quot;)\n    public List&amp;lt;UserInfoEntity&amp;gt; getList(){\n        List&amp;lt;UserInfoEntity&amp;gt; userInfoEntityList = userInfoService.list();\n        return userInfoEntityList;\n    }\n    /**\n     * 分页查询全部数据\n     * @Author Sans\n     * @CreateTime 2019/6/8 16:37\n     * @Return IPage&amp;lt;UserInfoEntity&amp;gt; 分页数据\n     */\n    @RequestMapping(\&amp;quot;/getInfoListPage\&amp;quot;)\n    public IPage&amp;lt;UserInfoEntity&amp;gt; getInfoListPage(){\n        //需要在Config配置类中配置分页插件\n        IPage&amp;lt;UserInfoEntity&amp;gt; page = new Page&amp;lt;&amp;gt;();\n        page.setCurrent(5); //当前页\n        page.setSize(1);    //每页条数\n        page = userInfoService.page(page);\n        return page;\n    }\n    /**\n     * 根据指定字段查询用户信息集合\n     * @Author Sans\n     * @CreateTime 2019/6/8 16:39\n     * @Return Collection&amp;lt;UserInfoEntity&amp;gt; 用户实体集合\n     */\n    @RequestMapping(\&amp;quot;/getListMap\&amp;quot;)\n    public Collection&amp;lt;UserInfoEntity&amp;gt; getListMap(){\n        Map&amp;lt;String,Object&amp;gt; map = new HashMap&amp;lt;&amp;gt;();\n        //kay是字段名 value是字段值\n        map.put(\&amp;quot;age\&amp;quot;,20);\n        Collection&amp;lt;UserInfoEntity&amp;gt; userInfoEntityList = userInfoService.listByMap(map);\n        return userInfoEntityList;\n    }\n    /**\n     * 新增用户信息\n     * @Author Sans\n     * @CreateTime 2019/6/8 16:40\n     */\n    @RequestMapping(\&amp;quot;/saveInfo\&amp;quot;)\n    public void saveInfo(){\n        UserInfoEntity userInfoEntity = new UserInfoEntity();\n        userInfoEntity.setName(\&amp;quot;小龙\&amp;quot;);\n        userInfoEntity.setSkill(\&amp;quot;JAVA\&amp;quot;);\n        userInfoEntity.setAge(18);\n        userInfoEntity.setFraction(59L);\n        userInfoEntity.setEvaluate(\&amp;quot;该学生是一个在改BUG的码农\&amp;quot;);\n        userInfoService.save(userInfoEntity);\n    }\n    /**\n     * 批量新增用户信息\n     * @Author Sans\n     * @CreateTime 2019/6/8 16:42\n     */\n    @RequestMapping(\&amp;quot;/saveInfoList\&amp;quot;)\n    public void saveInfoList(){\n        //创建对象\n        UserInfoEntity sans = new UserInfoEntity();\n        sans.setName(\&amp;quot;Sans\&amp;quot;);\n        sans.setSkill(\&amp;quot;睡觉\&amp;quot;);\n        sans.setAge(18);\n        sans.setFraction(60L);\n        sans.setEvaluate(\&amp;quot;Sans是一个爱睡觉,并且身材较矮骨骼巨大的骷髅小胖子\&amp;quot;);\n        UserInfoEntity papyrus = new UserInfoEntity();\n        papyrus.setName(\&amp;quot;papyrus\&amp;quot;);\n        papyrus.setSkill(\&amp;quot;JAVA\&amp;quot;);\n        papyrus.setAge(18);\n        papyrus.setFraction(58L);\n        papyrus.setEvaluate(\&amp;quot;Papyrus是一个讲话大声、个性张扬的骷髅，给人自信、有魅力的骷髅小瘦子\&amp;quot;);\n        //批量保存\n        List&amp;lt;UserInfoEntity&amp;gt; list =new ArrayList&amp;lt;&amp;gt;();\n        list.add(sans);\n        list.add(papyrus);\n        userInfoService.saveBatch(list);\n    }\n    /**\n     * 更新用户信息\n     * @Author Sans\n     * @CreateTime 2019/6/8 16:47\n     */\n    @RequestMapping(\&amp;quot;/updateInfo\&amp;quot;)\n    public void updateInfo(){\n        //根据实体中的ID去更新,其他字段如果值为null则不会更新该字段,参考yml配置文件\n        UserInfoEntity userInfoEntity = new UserInfoEntity();\n        userInfoEntity.setId(1L);\n        userInfoEntity.setAge(19);\n        userInfoService.updateById(userInfoEntity);\n    }\n    /**\n     * 新增或者更新用户信息\n     * @Author Sans\n     * @CreateTime 2019/6/8 16:50\n     */\n    @RequestMapping(\&amp;quot;/saveOrUpdateInfo\&amp;quot;)\n    public void saveOrUpdate(){\n        //传入的实体类userInfoEntity中ID为null就会新增(ID自增)\n        //实体类ID值存在,如果数据库存在ID就会更新,如果不存在就会新增\n        UserInfoEntity userInfoEntity = new UserInfoEntity();\n        userInfoEntity.setId(1L);\n        userInfoEntity.setAge(20);\n        userInfoService.saveOrUpdate(userInfoEntity);\n    }\n    /**\n     * 根据ID删除用户信息\n     * @Author Sans\n     * @CreateTime 2019/6/8 16:52\n     */\n    @RequestMapping(\&amp;quot;/deleteInfo\&amp;quot;)\n    public void deleteInfo(String userId){\n        userInfoService.removeById(userId);\n    }\n    /**\n     * 根据ID批量删除用户信息\n     * @Author Sans\n     * @CreateTime 2019/6/8 16:55\n     */\n    @RequestMapping(\&amp;quot;/deleteInfoList\&amp;quot;)\n    public void deleteInfoList(){\n        List&amp;lt;String&amp;gt; userIdlist = new ArrayList&amp;lt;&amp;gt;();\n        userIdlist.add(\&amp;quot;12\&amp;quot;);\n        userIdlist.add(\&amp;quot;13\&amp;quot;);\n        userInfoService.removeByIds(userIdlist);\n    }\n    /**\n     * 根据指定字段删除用户信息\n     * @Author Sans\n     * @CreateTime 2019/6/8 16:57\n     */\n    @RequestMapping(\&amp;quot;/deleteInfoMap\&amp;quot;)\n    public void deleteInfoMap(){\n        //kay是字段名 value是字段值\n        Map&amp;lt;String,Object&amp;gt; map = new HashMap&amp;lt;&amp;gt;();\n        map.put(\&amp;quot;skill\&amp;quot;,\&amp;quot;删除\&amp;quot;);\n        map.put(\&amp;quot;fraction\&amp;quot;,10L);\n        userInfoService.removeByMap(map);\n    }\n}&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="codeSnippet"><code class="hljs">/**
 * @Description UserInfoController
 * @Author Sans
 * @CreateTime 2019/6/8 16:27
 */
@RestController
@RequestMapping("/userInfo")
public class UserInfoController {

    @Autowired
    private UserInfoService userInfoService;

    /**
     * 根据ID获取用户信息
     * @Author Sans
     * @CreateTime 2019/6/8 16:34
     * @Param  userId  用户ID
     * @Return UserInfoEntity 用户实体
     */
    @RequestMapping("/getInfo")
    public UserInfoEntity getInfo(String userId){
        UserInfoEntity userInfoEntity = userInfoService.getById(userId);
        return userInfoEntity;
    }
    /**
     * 查询全部信息
     * @Author Sans
     * @CreateTime 2019/6/8 16:35
     * @Param  userId  用户ID
     * @Return List&lt;UserInfoEntity&gt; 用户实体集合
     */
    @RequestMapping("/getList")
    public List&lt;UserInfoEntity&gt; getList(){
        List&lt;UserInfoEntity&gt; userInfoEntityList = userInfoService.list();
        return userInfoEntityList;
    }
    /**
     * 分页查询全部数据
     * @Author Sans
     * @CreateTime 2019/6/8 16:37
     * @Return IPage&lt;UserInfoEntity&gt; 分页数据
     */
    @RequestMapping("/getInfoListPage")
    public IPage&lt;UserInfoEntity&gt; getInfoListPage(){
        //需要在Config配置类中配置分页插件
        IPage&lt;UserInfoEntity&gt; page = new Page&lt;&gt;();
        page.setCurrent(5); //当前页
        page.setSize(1);    //每页条数
        page = userInfoService.page(page);
        return page;
    }
    /**
     * 根据指定字段查询用户信息集合
     * @Author Sans
     * @CreateTime 2019/6/8 16:39
     * @Return Collection&lt;UserInfoEntity&gt; 用户实体集合
     */
    @RequestMapping("/getListMap")
    public Collection&lt;UserInfoEntity&gt; getListMap(){
        Map&lt;String,Object&gt; map = new HashMap&lt;&gt;();
        //kay是字段名 value是字段值
        map.put("age",20);
        Collection&lt;UserInfoEntity&gt; userInfoEntityList = userInfoService.listByMap(map);
        return userInfoEntityList;
    }
    /**
     * 新增用户信息
     * @Author Sans
     * @CreateTime 2019/6/8 16:40
     */
    @RequestMapping("/saveInfo")
    public void saveInfo(){
        UserInfoEntity userInfoEntity = new UserInfoEntity();
        userInfoEntity.setName("小龙");
        userInfoEntity.setSkill("JAVA");
        userInfoEntity.setAge(18);
        userInfoEntity.setFraction(59L);
        userInfoEntity.setEvaluate("该学生是一个在改BUG的码农");
        userInfoService.save(userInfoEntity);
    }
    /**
     * 批量新增用户信息
     * @Author Sans
     * @CreateTime 2019/6/8 16:42
     */
    @RequestMapping("/saveInfoList")
    public void saveInfoList(){
        //创建对象
        UserInfoEntity sans = new UserInfoEntity();
        sans.setName("Sans");
        sans.setSkill("睡觉");
        sans.setAge(18);
        sans.setFraction(60L);
        sans.setEvaluate("Sans是一个爱睡觉,并且身材较矮骨骼巨大的骷髅小胖子");
        UserInfoEntity papyrus = new UserInfoEntity();
        papyrus.setName("papyrus");
        papyrus.setSkill("JAVA");
        papyrus.setAge(18);
        papyrus.setFraction(58L);
        papyrus.setEvaluate("Papyrus是一个讲话大声、个性张扬的骷髅，给人自信、有魅力的骷髅小瘦子");
        //批量保存
        List&lt;UserInfoEntity&gt; list =new ArrayList&lt;&gt;();
        list.add(sans);
        list.add(papyrus);
        userInfoService.saveBatch(list);
    }
    /**
     * 更新用户信息
     * @Author Sans
     * @CreateTime 2019/6/8 16:47
     */
    @RequestMapping("/updateInfo")
    public void updateInfo(){
        //根据实体中的ID去更新,其他字段如果值为null则不会更新该字段,参考yml配置文件
        UserInfoEntity userInfoEntity = new UserInfoEntity();
        userInfoEntity.setId(1L);
        userInfoEntity.setAge(19);
        userInfoService.updateById(userInfoEntity);
    }
    /**
     * 新增或者更新用户信息
     * @Author Sans
     * @CreateTime 2019/6/8 16:50
     */
    @RequestMapping("/saveOrUpdateInfo")
    public void saveOrUpdate(){
        //传入的实体类userInfoEntity中ID为null就会新增(ID自增)
        //实体类ID值存在,如果数据库存在ID就会更新,如果不存在就会新增
        UserInfoEntity userInfoEntity = new UserInfoEntity();
        userInfoEntity.setId(1L);
        userInfoEntity.setAge(20);
        userInfoService.saveOrUpdate(userInfoEntity);
    }
    /**
     * 根据ID删除用户信息
     * @Author Sans
     * @CreateTime 2019/6/8 16:52
     */
    @RequestMapping("/deleteInfo")
    public void deleteInfo(String userId){
        userInfoService.removeById(userId);
    }
    /**
     * 根据ID批量删除用户信息
     * @Author Sans
     * @CreateTime 2019/6/8 16:55
     */
    @RequestMapping("/deleteInfoList")
    public void deleteInfoList(){
        List&lt;String&gt; userIdlist = new ArrayList&lt;&gt;();
        userIdlist.add("12");
        userIdlist.add("13");
        userInfoService.removeByIds(userIdlist);
    }
    /**
     * 根据指定字段删除用户信息
     * @Author Sans
     * @CreateTime 2019/6/8 16:57
     */
    @RequestMapping("/deleteInfoMap")
    public void deleteInfoMap(){
        //kay是字段名 value是字段值
        Map&lt;String,Object&gt; map = new HashMap&lt;&gt;();
        map.put("skill","删除");
        map.put("fraction",10L);
        userInfoService.removeByMap(map);
    }
}</code></code></pre>
<span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /></span>
<h2>五.MyBatis-Plus的QueryWrapper条件构造器</h2>
<p>当查询条件复杂的时候,我们可以使用MP的条件构造器,请参考下面的QueryWrapper条件参数说明</p>
<p>下面我们来举一些常见的示例</p>
<src class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_wrapper_has cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="代码段" data-cke-widget-id="5">
<pre class="has cke_widget_element" data-cke-widget-data="{&amp;quot;code&amp;quot;:&amp;quot;/**\n * @Description UserInfoPlusController\n * @Author Sans\n * @CreateTime 2019/6/9 14:52\n */\n@RestController\n@RequestMapping(\&amp;quot;/userInfoPlus\&amp;quot;)\npublic class UserInfoPlusController {\n\n    @Autowired\n    private UserInfoService userInfoService;\n\n    /**\n     * MP扩展演示\n     * @Author Sans\n     * @CreateTime 2019/6/8 16:37\n     * @Return Map&amp;lt;String,Object&amp;gt; 返回数据\n     */\n    @RequestMapping(\&amp;quot;/getInfoListPlus\&amp;quot;)\n    public Map&amp;lt;String,Object&amp;gt; getInfoListPage(){\n        //初始化返回类\n        Map&amp;lt;String,Object&amp;gt; result = new HashMap&amp;lt;&amp;gt;();\n        //查询年龄等于18岁的学生\n        //等价SQL: SELECT id,name,age,skill,evaluate,fraction FROM user_info WHERE age = 18\n        QueryWrapper&amp;lt;UserInfoEntity&amp;gt; queryWrapper1 = new QueryWrapper&amp;lt;&amp;gt;();\n        queryWrapper1.lambda().eq(UserInfoEntity::getAge,18);\n        List&amp;lt;UserInfoEntity&amp;gt; userInfoEntityList1 = userInfoService.list(queryWrapper1);\n        result.put(\&amp;quot;studentAge18\&amp;quot;,userInfoEntityList1);\n        //查询年龄大于5岁的学生且小于等于18岁的学生\n        //等价SQL: SELECT id,name,age,skill,evaluate,fraction FROM user_info WHERE age &amp;gt; 5 AND age &amp;lt;= 18\n        QueryWrapper&amp;lt;UserInfoEntity&amp;gt; queryWrapper2 = new QueryWrapper&amp;lt;&amp;gt;();\n        queryWrapper2.lambda().gt(UserInfoEntity::getAge,5);\n        queryWrapper2.lambda().le(UserInfoEntity::getAge,18);\n        List&amp;lt;UserInfoEntity&amp;gt; userInfoEntityList2 = userInfoService.list(queryWrapper2);\n        result.put(\&amp;quot;studentAge5\&amp;quot;,userInfoEntityList2);\n        //模糊查询技能字段带有\&amp;quot;画\&amp;quot;的数据,并按照年龄降序\n        //等价SQL: SELECT id,name,age,skill,evaluate,fraction FROM user_info WHERE skill LIKE '%画%' ORDER BY age DESC\n        QueryWrapper&amp;lt;UserInfoEntity&amp;gt; queryWrapper3 = new QueryWrapper&amp;lt;&amp;gt;();\n        queryWrapper3.lambda().like(UserInfoEntity::getSkill,\&amp;quot;画\&amp;quot;);\n        queryWrapper3.lambda().orderByDesc(UserInfoEntity::getAge);\n        List&amp;lt;UserInfoEntity&amp;gt; userInfoEntityList3 = userInfoService.list(queryWrapper3);\n        result.put(\&amp;quot;studentAgeSkill\&amp;quot;,userInfoEntityList3);\n        //模糊查询名字带有\&amp;quot;小\&amp;quot;或者年龄大于18的学生\n        //等价SQL: SELECT id,name,age,skill,evaluate,fraction FROM user_info WHERE name LIKE '%小%' OR age &amp;gt; 18\n        QueryWrapper&amp;lt;UserInfoEntity&amp;gt; queryWrapper4 = new QueryWrapper&amp;lt;&amp;gt;();\n        queryWrapper4.lambda().like(UserInfoEntity::getName,\&amp;quot;小\&amp;quot;);\n        queryWrapper4.lambda().or().gt(UserInfoEntity::getAge,18);\n        List&amp;lt;UserInfoEntity&amp;gt; userInfoEntityList4 = userInfoService.list(queryWrapper4);\n        result.put(\&amp;quot;studentOr\&amp;quot;,userInfoEntityList4);\n        //查询评价不为null的学生,并且分页\n        //等价SQL: SELECT id,name,age,skill,evaluate,fraction FROM user_info WHERE evaluate IS NOT NULL LIMIT 0,5\n        IPage&amp;lt;UserInfoEntity&amp;gt; page = new Page&amp;lt;&amp;gt;();\n        page.setCurrent(1);\n        page.setSize(5);\n        QueryWrapper&amp;lt;UserInfoEntity&amp;gt; queryWrapper5 = new QueryWrapper&amp;lt;&amp;gt;();\n        queryWrapper5.lambda().isNotNull(UserInfoEntity::getEvaluate);\n        page = userInfoService.page(page,queryWrapper5);\n        result.put(\&amp;quot;studentPage\&amp;quot;,page);\n        return result;\n    }\n}&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="codeSnippet"><code class="hljs">/**
 * @Description UserInfoPlusController
 * @Author Sans
 * @CreateTime 2019/6/9 14:52
 */
@RestController
@RequestMapping("/userInfoPlus")
public class UserInfoPlusController {

    @Autowired
    private UserInfoService userInfoService;

    /**
     * MP扩展演示
     * @Author Sans
     * @CreateTime 2019/6/8 16:37
     * @Return Map&lt;String,Object&gt; 返回数据
     */
    @RequestMapping("/getInfoListPlus")
    public Map&lt;String,Object&gt; getInfoListPage(){
        //初始化返回类
        Map&lt;String,Object&gt; result = new HashMap&lt;&gt;();
        //查询年龄等于18岁的学生
        //等价SQL: SELECT id,name,age,skill,evaluate,fraction FROM user_info WHERE age = 18
        QueryWrapper&lt;UserInfoEntity&gt; queryWrapper1 = new QueryWrapper&lt;&gt;();
        queryWrapper1.lambda().eq(UserInfoEntity::getAge,18);
        List&lt;UserInfoEntity&gt; userInfoEntityList1 = userInfoService.list(queryWrapper1);
        result.put("studentAge18",userInfoEntityList1);
        //查询年龄大于5岁的学生且小于等于18岁的学生
        //等价SQL: SELECT id,name,age,skill,evaluate,fraction FROM user_info WHERE age &gt; 5 AND age &lt;= 18
        QueryWrapper&lt;UserInfoEntity&gt; queryWrapper2 = new QueryWrapper&lt;&gt;();
        queryWrapper2.lambda().gt(UserInfoEntity::getAge,5);
        queryWrapper2.lambda().le(UserInfoEntity::getAge,18);
        List&lt;UserInfoEntity&gt; userInfoEntityList2 = userInfoService.list(queryWrapper2);
        result.put("studentAge5",userInfoEntityList2);
        //模糊查询技能字段带有"画"的数据,并按照年龄降序
        //等价SQL: SELECT id,name,age,skill,evaluate,fraction FROM user_info WHERE skill LIKE '%画%' ORDER BY age DESC
        QueryWrapper&lt;UserInfoEntity&gt; queryWrapper3 = new QueryWrapper&lt;&gt;();
        queryWrapper3.lambda().like(UserInfoEntity::getSkill,"画");
        queryWrapper3.lambda().orderByDesc(UserInfoEntity::getAge);
        List&lt;UserInfoEntity&gt; userInfoEntityList3 = userInfoService.list(queryWrapper3);
        result.put("studentAgeSkill",userInfoEntityList3);
        //模糊查询名字带有"小"或者年龄大于18的学生
        //等价SQL: SELECT id,name,age,skill,evaluate,fraction FROM user_info WHERE name LIKE '%小%' OR age &gt; 18
        QueryWrapper&lt;UserInfoEntity&gt; queryWrapper4 = new QueryWrapper&lt;&gt;();
        queryWrapper4.lambda().like(UserInfoEntity::getName,"小");
        queryWrapper4.lambda().or().gt(UserInfoEntity::getAge,18);
        List&lt;UserInfoEntity&gt; userInfoEntityList4 = userInfoService.list(queryWrapper4);
        result.put("studentOr",userInfoEntityList4);
        //查询评价不为null的学生,并且分页
        //等价SQL: SELECT id,name,age,skill,evaluate,fraction FROM user_info WHERE evaluate IS NOT NULL LIMIT 0,5
        IPage&lt;UserInfoEntity&gt; page = new Page&lt;&gt;();
        page.setCurrent(1);
        page.setSize(5);
        QueryWrapper&lt;UserInfoEntity&gt; queryWrapper5 = new QueryWrapper&lt;&gt;();
        queryWrapper5.lambda().isNotNull(UserInfoEntity::getEvaluate);
        page = userInfoService.page(page,queryWrapper5);
        result.put("studentPage",page);
        return result;
    }
}</code></code></pre>
<span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /></span>
<h2>六.自定义SQL</h2>
<p>引入Mybatis-Plus不会对项目现有的 Mybatis 构架产生任何影响，而且Mybatis-Plus支持所有 Mybatis 原生的特性,这也是我喜欢使用它的原因之一,由于某些业务复杂,我们可能要自己去写一些比较复杂的SQL语句,我们举一个简单的例子来演示自定义SQL.</p>
<p>示例:查询大于设置分数的学生(分数为动态输入,且有分页)</p>
<p>编写Mapper.xml文件</p>
<src class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_wrapper_has cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="代码段" data-cke-widget-id="4">
<pre class="has cke_widget_element" data-cke-widget-data="{&amp;quot;code&amp;quot;:&amp;quot;&amp;lt;mapper namespace=\&amp;quot;com.mp.demo.dao.UserInfoDao\&amp;quot;&amp;gt;\n    &amp;lt;!-- Sans 2019/6/9 14:35 --&amp;gt;\n    &amp;lt;select id=\&amp;quot;selectUserInfoByGtFraction\&amp;quot; resultType=\&amp;quot;com.mp.demo.entity.UserInfoEntity\&amp;quot; parameterType=\&amp;quot;long\&amp;quot;&amp;gt;\n    SELECT * FROM user_info WHERE fraction &amp;gt; #{fraction}\n    &amp;lt;/select&amp;gt;\n&amp;lt;/mapper&amp;gt;&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="codeSnippet"><code class="hljs">&lt;mapper namespace="com.mp.demo.dao.UserInfoDao"&gt;
    &lt;!-- Sans 2019/6/9 14:35 --&gt;
    &lt;select id="selectUserInfoByGtFraction" resultType="com.mp.demo.entity.UserInfoEntity" parameterType="long"&gt;
    SELECT * FROM user_info WHERE fraction &gt; #{fraction}
    &lt;/select&gt;
&lt;/mapper&gt;</code></code></pre>
<span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /></span>
<p>在DAO中加入方法</p>
<src class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_wrapper_has cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="代码段" data-cke-widget-id="3">
<pre class="has cke_widget_element" data-cke-widget-data="{&amp;quot;code&amp;quot;:&amp;quot;/**\n     * 查询大于该分数的学生\n     * @Author Sans\n     * @CreateTime 2019/6/9 14:28\n     * @Param  page  分页参数\n     * @Param  fraction  分数\n     * @Return IPage&amp;lt;UserInfoEntity&amp;gt; 分页数据\n     */\n    IPage&amp;lt;UserInfoEntity&amp;gt; selectUserInfoByGtFraction(IPage&amp;lt;UserInfoEntity&amp;gt; page, Long fraction);&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="codeSnippet"><code class="hljs">/**
     * 查询大于该分数的学生
     * @Author Sans
     * @CreateTime 2019/6/9 14:28
     * @Param  page  分页参数
     * @Param  fraction  分数
     * @Return IPage&lt;UserInfoEntity&gt; 分页数据
     */
    IPage&lt;UserInfoEntity&gt; selectUserInfoByGtFraction(IPage&lt;UserInfoEntity&gt; page, Long fraction);</code></code></pre>
<span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /></span>
<p>在service加入方法</p>
<src class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_wrapper_has cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="代码段" data-cke-widget-id="2">
<pre class="has cke_widget_element" data-cke-widget-data="{&amp;quot;code&amp;quot;:&amp;quot;/**\n     * 查询大于该分数的学生\n     * @Author Sans\n     * @CreateTime 2019/6/9 14:27\n     * @Param  page  分页参数\n     * @Param  fraction  分数\n     * @Return IPage&amp;lt;UserInfoEntity&amp;gt; 分页数据\n     */\n    IPage&amp;lt;UserInfoEntity&amp;gt; selectUserInfoByGtFraction(IPage&amp;lt;UserInfoEntity&amp;gt; page,Long fraction);&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="codeSnippet"><code class="hljs">/**
     * 查询大于该分数的学生
     * @Author Sans
     * @CreateTime 2019/6/9 14:27
     * @Param  page  分页参数
     * @Param  fraction  分数
     * @Return IPage&lt;UserInfoEntity&gt; 分页数据
     */
    IPage&lt;UserInfoEntity&gt; selectUserInfoByGtFraction(IPage&lt;UserInfoEntity&gt; page,Long fraction);</code></code></pre>
<span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /></span>
<p>在serviceImpl加入方法</p>
<src class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_wrapper_has cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="代码段" data-cke-widget-id="1">
<pre class="has cke_widget_element" data-cke-widget-data="{&amp;quot;code&amp;quot;:&amp;quot;  /**\n     * 查询大于该分数的学生\n     * @Author Sans\n     * @CreateTime 2019/6/9 14:27\n     * @Param  page  分页参数\n     * @Param  fraction  分数\n     * @Return IPage&amp;lt;UserInfoEntity&amp;gt; 分页数据\n     */\n    @Override\n    public IPage&amp;lt;UserInfoEntity&amp;gt; selectUserInfoByGtFraction(IPage&amp;lt;UserInfoEntity&amp;gt; page, Long fraction) {\n        return this.baseMapper.selectUserInfoByGtFraction(page,fraction);\n    }&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="codeSnippet"><code class="hljs">  /**
     * 查询大于该分数的学生
     * @Author Sans
     * @CreateTime 2019/6/9 14:27
     * @Param  page  分页参数
     * @Param  fraction  分数
     * @Return IPage&lt;UserInfoEntity&gt; 分页数据
     */
    @Override
    public IPage&lt;UserInfoEntity&gt; selectUserInfoByGtFraction(IPage&lt;UserInfoEntity&gt; page, Long fraction) {
        return this.baseMapper.selectUserInfoByGtFraction(page,fraction);
    }</code></code></pre>
<span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /></span>
<p>在Controller中测试</p>
<src class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_wrapper_has cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="代码段" data-cke-widget-id="0">
<pre class="has cke_widget_element" data-cke-widget-data="{&amp;quot;code&amp;quot;:&amp;quot;   /**\n     * MP自定义SQL\n     * @Author Sans\n     * @CreateTime 2019/6/9 14:37\n     * @Return IPage&amp;lt;UserInfoEntity&amp;gt; 分页数据\n     */\n    @RequestMapping(\&amp;quot;/getInfoListSQL\&amp;quot;)\n    public IPage&amp;lt;UserInfoEntity&amp;gt; getInfoListSQL(){\n        //查询大于60分以上的学生,并且分页\n        IPage&amp;lt;UserInfoEntity&amp;gt; page = new Page&amp;lt;&amp;gt;();\n        page.setCurrent(1);\n        page.setSize(5);\n        page = userInfoService.selectUserInfoByGtFraction(page,60L);\n        return page;\n    }&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="codeSnippet"><code class="hljs">   /**
     * MP自定义SQL
     * @Author Sans
     * @CreateTime 2019/6/9 14:37
     * @Return IPage&lt;UserInfoEntity&gt; 分页数据
     */
    @RequestMapping("/getInfoListSQL")
    public IPage&lt;UserInfoEntity&gt; getInfoListSQL(){
        //查询大于60分以上的学生,并且分页
        IPage&lt;UserInfoEntity&gt; page = new Page&lt;&gt;();
        page.setCurrent(1);
        page.setSize(5);
        page = userInfoService.selectUserInfoByGtFraction(page,60L);
        return page;
    }</code></code></pre>
<span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /></span>
<h2>七.项目源码</h2>
<p>项目源码:</p>
<blockquote>
<p>https://gitee.com/liselotte/spring-boot-mp-demo</p>
</blockquote>
<p>个人确实很喜欢用MyBatis-Plus,不仅节约时间,代码也简洁干净,它给了我那时候从SSM到SpringBoot过度的那种感觉</p>
<p>嗯,这玩意真香~</p>

</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>