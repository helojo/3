<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修部署系统报404.有可能是tomcat存在多个进程' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>部署系统报404.有可能是tomcat存在多个进程</center></div><div class='banquan'>原文出处:本文由博客园博主pillarzhang提供。<br/>
原文连接:https://www.cnblogs.com/zhang-dongliang/p/11647571.html</div><br>
    <p>  今天对需求进行系统升级部署，本以为只需要几分钟的事，结果却遇到了怪事<br />
我是用Jenkins集成部署的，之前都是点一下几分钟就可以了，结果这次部署完成之后<br />
一直报404，一直打不开页面，很无奈，就去看日志如下<br />
<img src="./images/部署系统报404.有可能是tomcat存在多个进程0.png" /><br />
  产生这个原因是有多个tomcat进程，我们可以通过Linux命令查看tomcat的进程<br />
查找出tomcat的进程： ps -ef |grep tomcat<br />
杀掉tomcat进程 ： kill -9 tomcat的pid号<br />
通过查询果然tomcat有多个进程，执行命令如下：<br />
<img src="./images/部署系统报404.有可能是tomcat存在多个进程1.png" /><br />
  为什么会出现多个tomcat进程呢？ 可能是shutdown.sh不能完全杀死tomcat进程，<br />
立马启动就会导致冲突，比较恶心的是部署过程是不会报错的。<br />
本来kill之后重启tomcat之后就可以了，但是最后一个pid不停的变化，不能彻底杀死，<br />
shutdown也无效 重启之后还是两个tomcat进程，一直无法彻底杀死进程，百般无奈之下，<br />
只有重启系统（程序员必杀技），然后startup.sh启动之后，系统可以正常访问了。<br />
Windows系统，tomcat如果有一个进程在运行，再启动的时候就会报8080端口被占用<br />
其实kill应该是可以杀死tomcat进程的，但不知为什么不行，重启之后确实就可以了。</p>


</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>