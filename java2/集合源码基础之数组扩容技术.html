<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修集合源码基础之数组扩容技术' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>集合源码基础之数组扩容技术</center></div><div class='banquan'>原文出处:本文由博客园博主web_bird提供。<br/>
原文连接:https://www.cnblogs.com/zhiyouwu/p/11605990.html</div><br>
    <h2 id="集合源码基础之数组扩容技术">集合源码基础之数组扩容技术</h2>
<h3 id="数组复制1arrays.copyofobject-objects-int-length">数组复制1：Arrays.copyOf(Object[] objects, int length)</h3>
<p>Arrays.copyOf(Object[] objects, int length)功能是实现数组的复制，返回复制后的数组。参数为被复制的数组和复制的长度（复制之后不足的按照null填充）。</p>
<pre><code><code>package top.flygrk.ishare.list.test;

import java.util.Arrays;

/**
 * @Author: flygrk
 * @Version: 1.0
 * @Description: 数组扩容技术
 */
public class ArrayCopy {

    public static void main(String[] args) {
        Object[] objects = {1, 2};
        System.out.println(&quot;当前数组长度： &quot; + objects.length);

        //返回新的数组，将原来的长度为2的数组，现在扩容到10， 原来本身的数据不变
        Object[] copyNewObjects = Arrays.copyOf(objects, 10);
        System.out.println(&quot;copyNewObjects： &quot; + copyNewObjects.length);

    }

}</code></code></pre>
<h3 id="数组复制2system.arraycopyobject-src-int-srcposobject-dest-int-destposint-length">数组复制2：System.arraycopy(Object src, int srcPos,Object dest, int destPos,int length);</h3>
<p>System.arraycopy()方法如果是数组比较大，那么使用System.arraycopy()会比较有优势，因为其使用的是内存复制，省去了大量的数组寻址访问等时间。复制指定源数组src到目标数组dist。复制从源数组src的srcPos索引开始，复制长度为length，复制到dest数组的开始索引为destPos。</p>
<pre><code><code>package top.flygrk.ishare.list.test;

import java.util.Arrays;

/**
 * @Author: flygrk
 * @Version: 1.0
 * @Description: 数组扩容技术
 */
public class ArrayCopy {

    public static void main(String[] args) {

        int[] fun = {0, 1, 2, 3, 4, 5, 6};


        System.arraycopy(fun, 0, fun, 3, 3);

        for (int i: fun) {
            System.out.print(i + &quot; &quot;);
        }

    }

}

//运行结果： 0 1 2 0 1 2 6 </code></code></pre>
<ul>
<li>System.arraycopy() 源码：</li>
</ul>
<pre><code><code>/**
 * @Description: 数组复制
 * @Param src: 源数组
 * @Param srcPos: 源数组复制开始的下标
 * @Param dest: 目标数组
 * @Param destPos: 目标数组存放的开始下标
 * @Param length： 复制长度
 */
public static native void arraycopy(
    Object src, int srcPos, Object dest,
    int destPos, int length
);
</code></code></pre>
<blockquote>
<p>注意： 上述代码，如果复制的length超越了（数组的长度-起始位置的长度），那么就会提示数组下标越界异常。</p>
</blockquote>
<hr />
<h3 id="blog">Blog:</h3>
<ul>
<li>简书： https://www.jianshu.com/u/91378a397ffe</li>
<li>csdn： https://blog.csdn.net/ZhiyouWu</li>
<li>开源中国： https://my.oschina.net/u/3204088</li>
<li>掘金： https://juejin.im/user/5b5979efe51d451949094265</li>
<li>博客园： https://www.cnblogs.com/zhiyouwu/</li>
<li>微信公众号： 源码湾</li>
<li>微信： WZY1782357529 (欢迎沟通交流)</li>
</ul>


</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>