<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修java超市购物管理系统' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>java超市购物管理系统</center></div><div class='banquan'>原文出处:本文由博客园博主java一号提供。<br/>
原文连接:https://www.cnblogs.com/javayihao/p/12012267.html</div><br>
    <h1 id="%E4%B8%80.%E6%A6%82%E8%BF%B0"><span style="color: #86ca5e;">一.概述</span></h1>
<p>1.鹏哥前面有写过java项目超市管理系统项目，<a href="https://blog.csdn.net/qq_34491508/article/details/80020625" data-cke-saved-href="https://blog.csdn.net/qq_34491508/article/details/80020625">传送门</a></p>
<p>2.收到很多朋友私信给我，也很感谢老铁们的反馈和交流，前面这个项目只是对java基础知识和面向对象的思想练习，但是没有涉及到java如何操作数据库，如何通过java将数据从数据库拿出来，如果存进去这些问题。对于java新手来说，这些问题不知道从何处下手。有很多刚入门的java新手建议我写个java操作数据库的实战项目供入门者参考，我想如果能帮助他们少花点时间出坑，何乐不为？鹏哥就特意思考了一天，整理了一下思路，今天就抽时间写个超市购物管理系统.....go go go</p>
<p>3.超市购物管理系统涉及到的知识：java基础语法，java面向对象的开发思想，java如何操作数据库，集合方面的知识</p>
<p>4.适合java入门，不知道java如何操作数据库</p>
<p>5.基本所有的代码鹏哥会打上注释，方便阅读</p>
<p>6.因为是java操作数据库的实战项目，不会详细讲解java环境搭建，数据库安装,sql语法这些知识。太多了，我写一周不见得写完.....或者可以去鹏哥站 <a href="http://www.javayihao.top/" data-cke-saved-href="http://www.javayihao.top/">java一号</a> 查看相关文章。所以开始之前你总的把java开发环境安装好吧、数据库安装好吧、</p>
<p>7.开发工具eclipse；jdk是1.8；数据库用的是mysql5.5 （当然sqlserver数据库完全可以）</p>
<p>8.源码获取：我会将核心代码粘贴出来，所有的代码关注鹏哥公众号&nbsp; java一号&nbsp; 实战项目中会给出</p>
<h1 id="%E4%BA%8C%EF%BC%9A%E6%95%88%E6%9E%9C%E6%BC%94%E7%A4%BA"><span style="color: #86ca5e;">二：效果演示</span></h1>
<src class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_wrapper_has cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="代码段" data-cke-widget-id="29">
<pre><code><code class="hljs">=================欢迎使用超市购物管理系统=================
1.商品入库
2.根据商品编号查询商品
3.商品列表
4.购买商品
5.删除商品
6.更新商品
0.退出系统
请输入要执行的操作

3
编号	名称	单价	数量	
1234	苹果	12.0	35	
1235	衣服	123.0	0	
1236	篮球	200.0	20	
输入y继续/否则退出
y
1.商品入库
2.根据商品编号查询商品
3.商品列表
4.购买商品
5.删除商品
0.退出系统
请输入要执行的操作
4
输入购买商品的编号
1235
输入购买商品的数量
1
此商品库存0  无法购买;
输入y继续购买/输入其他结算
y
输入购买商品的编号
1234
输入购买商品的数量
2
购买成功
输入y继续购买/输入其他结算
1236
编号	名称	数量	总价
1234	苹果	2	24.0
总计消费:24.0元
输入y继续/否则退出
y
1.商品入库
2.根据商品编号查询商品
3.商品列表
4.购买商品
5.删除商品
0.退出系统
请输入要执行的操作
5
输入要刪除的商品编号
4564
沒有此商品
输入y继续/否则退出
y
1.商品入库
2.根据商品编号查询商品
3.商品列表
4.购买商品
5.删除商品
0.退出系统
请输入要执行的操作
3
编号	名称	单价	数量	
1234	苹果	12.0	33	
1235	衣服	123.0	0	
1236	篮球	200.0	20	
输入y继续/否则退出
y
1.商品入库
2.根据商品编号查询商品
3.商品列表
4.购买商品
5.删除商品
0.退出系统
请输入要执行的操作
4
输入购买商品的编号
1234
输入购买商品的数量
2
购买成功
输入y继续购买/输入其他结算
y
输入购买商品的编号
1234
输入购买商品的数量
2
购买成功
输入y继续购买/输入其他结算
t
编号	名称	数量	总价
1234	苹果	4	48.0
总计消费:48.0元
输入y继续/否则退出
</code></code></pre>

<h1 id="%E4%B8%89%EF%BC%9A%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE"><span style="color: #86ca5e;">三：创建项目</span></h1>
<p>在eclipse创建一个ShopManager项目</p>
<p><span class="cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="图像" data-cke-widget-id="28"><img class="has cke_widget_element" src="./images/java超市购物管理系统0.png" alt="" width="312" height="265" data-cke-saved-src="./images/java超市购物管理系统0.png" data-cke-widget-data="{&amp;quot;hasCaption&amp;quot;:false,&amp;quot;src&amp;quot;:&amp;quot;./images/java超市购物管理系统0.png&amp;quot;,&amp;quot;alt&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;width&amp;quot;:&amp;quot;312&amp;quot;,&amp;quot;height&amp;quot;:&amp;quot;265&amp;quot;,&amp;quot;lock&amp;quot;:true,&amp;quot;align&amp;quot;:&amp;quot;none&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="image" /></span></p>
<p>接着我们将数据库驱动jar包引入（可以去官网下载或者在我的公众号<span style="color: #86ca5e;"> java一号&nbsp; 回复&nbsp; <span style="color: #f33b45;">jdbc&nbsp; 即可获取，）；</span></span></p>
<p><span style="color: #86ca5e;"><span style="color: #f33b45;">java和这个数据库驱动有什么关系呢？简单理解就是这个数据库驱动是java和数据库中间的桥梁，用于两者通信。</span></span></p>
<p><span class="cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="图像" data-cke-widget-id="27"><img class="has cke_widget_element" src="./images/java超市购物管理系统1.png" alt="" width="695" height="322" data-cke-saved-src="./images/java超市购物管理系统1.png" data-cke-widget-data="{&amp;quot;hasCaption&amp;quot;:false,&amp;quot;src&amp;quot;:&amp;quot;./images/java超市购物管理系统1.png&amp;quot;,&amp;quot;alt&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;width&amp;quot;:&amp;quot;695&amp;quot;,&amp;quot;height&amp;quot;:&amp;quot;322&amp;quot;,&amp;quot;lock&amp;quot;:true,&amp;quot;align&amp;quot;:&amp;quot;none&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="image" /></span></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>创建lib的文件夹</p>
<p><span class="cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="图像" data-cke-widget-id="26"><img class="has cke_widget_element" src="./images/java超市购物管理系统2.png" alt="" width="339" height="400" data-cke-saved-src="./images/java超市购物管理系统2.png" data-cke-widget-data="{&amp;quot;hasCaption&amp;quot;:false,&amp;quot;src&amp;quot;:&amp;quot;./images/java超市购物管理系统2.png&amp;quot;,&amp;quot;alt&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;width&amp;quot;:&amp;quot;339&amp;quot;,&amp;quot;height&amp;quot;:&amp;quot;400&amp;quot;,&amp;quot;lock&amp;quot;:true,&amp;quot;align&amp;quot;:&amp;quot;none&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="image" /></span></p>
<p>将我们准备好的驱动复制到这个lib中</p>
<p><span class="cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="图像" data-cke-widget-id="25"><img class="has cke_widget_element" src="./images/java超市购物管理系统3.png" alt="" width="319" height="234" data-cke-saved-src="./images/java超市购物管理系统3.png" data-cke-widget-data="{&amp;quot;hasCaption&amp;quot;:false,&amp;quot;src&amp;quot;:&amp;quot;./images/java超市购物管理系统3.png&amp;quot;,&amp;quot;alt&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;width&amp;quot;:&amp;quot;319&amp;quot;,&amp;quot;height&amp;quot;:&amp;quot;234&amp;quot;,&amp;quot;lock&amp;quot;:true,&amp;quot;align&amp;quot;:&amp;quot;none&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="image" /></span></p>
<p>在这个驱动上右键执行</p>
<p><span class="cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="图像" data-cke-widget-id="24"><img class="has cke_widget_element" src="./images/java超市购物管理系统4.png" alt="" width="677" height="318" data-cke-saved-src="./images/java超市购物管理系统4.png" data-cke-widget-data="{&amp;quot;hasCaption&amp;quot;:false,&amp;quot;src&amp;quot;:&amp;quot;./images/java超市购物管理系统4.png&amp;quot;,&amp;quot;alt&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;width&amp;quot;:&amp;quot;677&amp;quot;,&amp;quot;height&amp;quot;:&amp;quot;318&amp;quot;,&amp;quot;lock&amp;quot;:true,&amp;quot;align&amp;quot;:&amp;quot;none&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="image" /><span class="cke_reset cke_widget_drag_handler_container" style="background: rgba(220,220,220,0.5); background-image: url('https://csdnimg.cn/release/blog_editor_html/release1.6.0/ckeditor/plugins/widget/images/handle.png');"><span class="cke_image_resizer" title="点击并拖拽以改变尺寸">​</span></span></span></p>
<p>最后完整的结构</p>
<p><span class="cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="图像" data-cke-widget-id="23"><img class="has cke_widget_element" src="./images/java超市购物管理系统5.png" alt="" width="313" height="296" data-cke-saved-src="./images/java超市购物管理系统5.png" data-cke-widget-data="{&amp;quot;hasCaption&amp;quot;:false,&amp;quot;src&amp;quot;:&amp;quot;./images/java超市购物管理系统5.png&amp;quot;,&amp;quot;alt&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;width&amp;quot;:&amp;quot;313&amp;quot;,&amp;quot;height&amp;quot;:&amp;quot;296&amp;quot;,&amp;quot;lock&amp;quot;:true,&amp;quot;align&amp;quot;:&amp;quot;none&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="image" /></span></p>
<p>创建项目结构，很重要，很重要，很重要，这些都是开发要注意的，对于这些小项目而言，完全可以将所有的代码类都放在src下，但是以后项目越来越大，所有的类成千上百个，都放在src，没有分包的的话，项目项目其他开发者看到代码什么承受多少点伤害。</p>
<p>这个系统中比较简单，下面四个包就可以，其中app包用于放系统主入口类，pojo放系统涉及的实体类，service放系统业务，utils放系统中的工具类；test临时测试类</p>
<p><span class="cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="图像" data-cke-widget-id="22"><img class="has cke_widget_element" src="./images/java超市购物管理系统6.png" alt="" width="314" height="256" data-cke-saved-src="./images/java超市购物管理系统6.png" data-cke-widget-data="{&amp;quot;hasCaption&amp;quot;:false,&amp;quot;src&amp;quot;:&amp;quot;./images/java超市购物管理系统6.png&amp;quot;,&amp;quot;alt&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;width&amp;quot;:&amp;quot;314&amp;quot;,&amp;quot;height&amp;quot;:&amp;quot;256&amp;quot;,&amp;quot;lock&amp;quot;:true,&amp;quot;align&amp;quot;:&amp;quot;none&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="image" /></span></p>
<h1 id="%E5%9B%9B%3A%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93"><span style="color: #86ca5e;">四:连接数据库</span></h1>
<p>因为系统会涉及到多次对数据库中数据的访问，所以我们将连接数据库操作写成一个工具类DbUtil，不要每次涉及到操作数据库就写重复的连接代码。</p>
<src class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_wrapper_has cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="代码段" data-cke-widget-id="21">
<pre class="has cke_widget_element" data-cke-widget-data="{&amp;quot;lang&amp;quot;:&amp;quot;java&amp;quot;,&amp;quot;code&amp;quot;:&amp;quot;package com.javayihao.top.utils;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\n/**\n * @date 2019-12-9\n * @Description 连接数据库工具类\n * @author com.javayihao.top\n */\npublic class DbUtil {\n\t//把几个用于连接数据库的字符串定义成常量，不必每次去创建\n\tprivate static final String USER = \&amp;quot;root\&amp;quot;;//数据库用户名\n\tprivate static final String UPWD = \&amp;quot;root\&amp;quot;;//数据库密码\n\t//本地数据库shop\n\tprivate static final String URL = \&amp;quot;jdbc:mysql://localhost:3306/shop\&amp;quot;;\n\t//驱动\n\tprivate static final String DRIVER = \&amp;quot;com.mysql.jdbc.Driver\&amp;quot;;\n\t//注册驱动\n\tstatic {\n\t\ttry {\n\t\t\tClass.forName(DRIVER);\n\t\t} catch (ClassNotFoundException e) {\n\t\t\te.printStackTrace();\n\t\t}\n\t}\n\n\t//得到数据库连接对象Connection的函数\n\tpublic static Connection getConnection() throws SQLException {\n\t\treturn DriverManager.getConnection(URL, USER, UPWD);\n\t}\n\n\t//关闭连接和 执行 的打开资源\n\tpublic static void close(Connection connection, Statement statement) {\n\t\tif (statement != null) {\n\t\t\ttry {\n\t\t\t\tstatement.close();\n\t\t\t} catch (SQLException e) {\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t}\n\t\tif (connection != null) {\n\t\t\ttry {\n\t\t\t\tconnection.close();\n\t\t\t} catch (SQLException e) {\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t}\n\t}\n\n\t//关闭所有的打开资源\n\tpublic static void close(Connection connection, Statement statement, ResultSet rs) {\n\t\tif (statement != null) {\n\t\t\ttry {\n\t\t\t\tstatement.close();\n\t\t\t} catch (SQLException e) {\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t}\n\t\tif (connection != null) {\n\t\t\ttry {\n\t\t\t\tconnection.close();\n\t\t\t} catch (SQLException e) {\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t}\n\t\tif (rs != null) {\n\t\t\ttry {\n\t\t\t\trs.close();\n\t\t\t} catch (SQLException e) {\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t}\n\t}\n\n}\n&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="codeSnippet"><code class="language-java hljs"><span class="hljs-keyword">package com.javayihao.top.utils;

<span class="hljs-keyword">import java.sql.Connection;
<span class="hljs-keyword">import java.sql.DriverManager;
<span class="hljs-keyword">import java.sql.ResultSet;
<span class="hljs-keyword">import java.sql.SQLException;
<span class="hljs-keyword">import java.sql.Statement;

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@date 2019-12-9
 * <span class="hljs-doctag">@Description 连接数据库工具类
 * <span class="hljs-doctag">@author com.javayihao.top
 */
<span class="hljs-keyword">public <span class="hljs-class"><span class="hljs-keyword">class <span class="hljs-title">DbUtil {
	<span class="hljs-comment">//把几个用于连接数据库的字符串定义成常量，不必每次去创建
	<span class="hljs-keyword">private <span class="hljs-keyword">static <span class="hljs-keyword">final String USER = <span class="hljs-string">"root";<span class="hljs-comment">//数据库用户名
	<span class="hljs-keyword">private <span class="hljs-keyword">static <span class="hljs-keyword">final String UPWD = <span class="hljs-string">"root";<span class="hljs-comment">//数据库密码
	<span class="hljs-comment">//本地数据库shop
	<span class="hljs-keyword">private <span class="hljs-keyword">static <span class="hljs-keyword">final String URL = <span class="hljs-string">"jdbc:mysql://localhost:3306/shop";
	<span class="hljs-comment">//驱动
	<span class="hljs-keyword">private <span class="hljs-keyword">static <span class="hljs-keyword">final String DRIVER = <span class="hljs-string">"com.mysql.jdbc.Driver";
	<span class="hljs-comment">//注册驱动
	<span class="hljs-keyword">static {
		<span class="hljs-keyword">try {
			Class.forName(DRIVER);
		} <span class="hljs-keyword">catch (ClassNotFoundException e) {
			e.printStackTrace();
		}
	}

	<span class="hljs-comment">//得到数据库连接对象Connection的函数
	<span class="hljs-function"><span class="hljs-keyword">public <span class="hljs-keyword">static Connection <span class="hljs-title">getConnection<span class="hljs-params">() <span class="hljs-keyword">throws SQLException {
		<span class="hljs-keyword">return DriverManager.getConnection(URL, USER, UPWD);
	}

	<span class="hljs-comment">//关闭连接和 执行 的打开资源
	<span class="hljs-function"><span class="hljs-keyword">public <span class="hljs-keyword">static <span class="hljs-keyword">void <span class="hljs-title">close<span class="hljs-params">(Connection connection, Statement statement) {
		<span class="hljs-keyword">if (statement != <span class="hljs-keyword">null) {
			<span class="hljs-keyword">try {
				statement.close();
			} <span class="hljs-keyword">catch (SQLException e) {
				e.printStackTrace();
			}
		}
		<span class="hljs-keyword">if (connection != <span class="hljs-keyword">null) {
			<span class="hljs-keyword">try {
				connection.close();
			} <span class="hljs-keyword">catch (SQLException e) {
				e.printStackTrace();
			}
		}
	}

	<span class="hljs-comment">//关闭所有的打开资源
	<span class="hljs-function"><span class="hljs-keyword">public <span class="hljs-keyword">static <span class="hljs-keyword">void <span class="hljs-title">close<span class="hljs-params">(Connection connection, Statement statement, ResultSet rs) {
		<span class="hljs-keyword">if (statement != <span class="hljs-keyword">null) {
			<span class="hljs-keyword">try {
				statement.close();
			} <span class="hljs-keyword">catch (SQLException e) {
				e.printStackTrace();
			}
		}
		<span class="hljs-keyword">if (connection != <span class="hljs-keyword">null) {
			<span class="hljs-keyword">try {
				connection.close();
			} <span class="hljs-keyword">catch (SQLException e) {
				e.printStackTrace();
			}
		}
		<span class="hljs-keyword">if (rs != <span class="hljs-keyword">null) {
			<span class="hljs-keyword">try {
				rs.close();
			} <span class="hljs-keyword">catch (SQLException e) {
				e.printStackTrace();
			}
		}
	}

}
</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></code></pre>

<p>测试</p>
<src class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_wrapper_has cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="代码段" data-cke-widget-id="20">
<pre class="has cke_widget_element" data-cke-widget-data="{&amp;quot;lang&amp;quot;:&amp;quot;java&amp;quot;,&amp;quot;code&amp;quot;:&amp;quot;package com.javayihao.top.test;\n\nimport java.sql.Connection;\nimport java.sql.SQLException;\n\nimport com.javayihao.top.utils.DbUtil;\n\n/**\n * @date 2019-12-9\n * @Description 测试数据库连接类\n * @author com.javayihao.top\n */\npublic class DbUtilTest {\n\tpublic static void main(String[] args) throws SQLException {\n\t\tConnection con = DbUtil.getConnection();\n\t\tSystem.out.println(con);\n\t}\n}\n&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="codeSnippet"><code class="language-java hljs"><span class="hljs-keyword">package com.javayihao.top.test;

<span class="hljs-keyword">import java.sql.Connection;
<span class="hljs-keyword">import java.sql.SQLException;

<span class="hljs-keyword">import com.javayihao.top.utils.DbUtil;

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@date 2019-12-9
 * <span class="hljs-doctag">@Description 测试数据库连接类
 * <span class="hljs-doctag">@author com.javayihao.top
 */
<span class="hljs-keyword">public <span class="hljs-class"><span class="hljs-keyword">class <span class="hljs-title">DbUtilTest {
	<span class="hljs-function"><span class="hljs-keyword">public <span class="hljs-keyword">static <span class="hljs-keyword">void <span class="hljs-title">main<span class="hljs-params">(String[] args) <span class="hljs-keyword">throws SQLException {
		Connection con = DbUtil.getConnection();
		System.out.println(con);
	}
}
</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></code></pre>

<p>如下，说明数据库连接成功</p>
<p><span class="cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="图像" data-cke-widget-id="19"><img class="has cke_widget_element" src="./images/java超市购物管理系统7.png" alt="" width="498" height="91" data-cke-saved-src="./images/java超市购物管理系统7.png" data-cke-widget-data="{&amp;quot;hasCaption&amp;quot;:false,&amp;quot;src&amp;quot;:&amp;quot;./images/java超市购物管理系统7.png&amp;quot;,&amp;quot;alt&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;width&amp;quot;:&amp;quot;498&amp;quot;,&amp;quot;height&amp;quot;:&amp;quot;91&amp;quot;,&amp;quot;lock&amp;quot;:true,&amp;quot;align&amp;quot;:&amp;quot;none&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="image" /></span></p>
<h1 id="%E4%BA%94%EF%BC%9A%E5%88%9B%E5%BB%BA%E5%AE%9E%E4%BD%93%E7%B1%BB"><span style="color: #86ca5e;">五：创建实体类</span></h1>
<src class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_wrapper_has cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="代码段" data-cke-widget-id="18">
<pre class="has cke_widget_element" data-cke-widget-data="{&amp;quot;lang&amp;quot;:&amp;quot;java&amp;quot;,&amp;quot;code&amp;quot;:&amp;quot;package com.javayihao.top.pojo;\n/**\n * @date 2019-12-9\n * @Description 商品实体\n * @author com.javayihao.top\n */\npublic class Good {\n\t//商品编号\n\tprivate int id;\n\t//商品名称\n\tprivate String name;\n\t//商品价格(价格可能涉及到小数，这里使用float,当然真正大型购物平台不会使用float,有兴趣的朋友可以上网了解)\n\tprivate float price;\n\t//库存\n\tprivate int num;\n\t//空参构造\n\tpublic Good() {\n\t\tsuper();\n\t}\n\t//打印方法\n\t@Override\n\tpublic String toString() {\n\t\treturn \&amp;quot;Good [id=\&amp;quot; + id + \&amp;quot;, name=\&amp;quot; + name + \&amp;quot;, price=\&amp;quot; + price + \&amp;quot;, num=\&amp;quot; + num + \&amp;quot;]\&amp;quot;;\n\t}\n\t//有参构造，方便初始化对象\n\tpublic Good(int id, String name, float price, int num) {\n\t\tsuper();\n\t\tthis.id = id;\n\t\tthis.name = name;\n\t\tthis.price = price;\n\t\tthis.num = num;\n\t}\n\t//set get方法\n\tpublic int getId() {\n\t\treturn id;\n\t}\n\tpublic void setId(int id) {\n\t\tthis.id = id;\n\t}\n\tpublic String getName() {\n\t\treturn name;\n\t}\n\tpublic void setName(String name) {\n\t\tthis.name = name;\n\t}\n\tpublic float getPrice() {\n\t\treturn price;\n\t}\n\tpublic void setPrice(float price) {\n\t\tthis.price = price;\n\t}\n\tpublic int getNum() {\n\t\treturn num;\n\t}\n\tpublic void setNum(int num) {\n\t\tthis.num = num;\n\t}\n}\n&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="codeSnippet"><code class="language-java hljs"><span class="hljs-keyword">package com.javayihao.top.pojo;
<span class="hljs-comment">/**
 * <span class="hljs-doctag">@date 2019-12-9
 * <span class="hljs-doctag">@Description 商品实体
 * <span class="hljs-doctag">@author com.javayihao.top
 */
<span class="hljs-keyword">public <span class="hljs-class"><span class="hljs-keyword">class <span class="hljs-title">Good {
	<span class="hljs-comment">//商品编号
	<span class="hljs-keyword">private <span class="hljs-keyword">int id;
	<span class="hljs-comment">//商品名称
	<span class="hljs-keyword">private String name;
	<span class="hljs-comment">//商品价格(价格可能涉及到小数，这里使用float,当然真正大型购物平台不会使用float,有兴趣的朋友可以上网了解)
	<span class="hljs-keyword">private <span class="hljs-keyword">float price;
	<span class="hljs-comment">//库存
	<span class="hljs-keyword">private <span class="hljs-keyword">int num;
	<span class="hljs-comment">//空参构造
	<span class="hljs-function"><span class="hljs-keyword">public <span class="hljs-title">Good<span class="hljs-params">() {
		<span class="hljs-keyword">super();
	}
	<span class="hljs-comment">//打印方法
	<span class="hljs-meta">@Override
	<span class="hljs-function"><span class="hljs-keyword">public String <span class="hljs-title">toString<span class="hljs-params">() {
		<span class="hljs-keyword">return <span class="hljs-string">"Good [id=" + id + <span class="hljs-string">", name=" + name + <span class="hljs-string">", price=" + price + <span class="hljs-string">", num=" + num + <span class="hljs-string">"]";
	}
	<span class="hljs-comment">//有参构造，方便初始化对象
	<span class="hljs-function"><span class="hljs-keyword">public <span class="hljs-title">Good<span class="hljs-params">(<span class="hljs-keyword">int id, String name, <span class="hljs-keyword">float price, <span class="hljs-keyword">int num) {
		<span class="hljs-keyword">super();
		<span class="hljs-keyword">this.id = id;
		<span class="hljs-keyword">this.name = name;
		<span class="hljs-keyword">this.price = price;
		<span class="hljs-keyword">this.num = num;
	}
	<span class="hljs-comment">//set get方法
	<span class="hljs-function"><span class="hljs-keyword">public <span class="hljs-keyword">int <span class="hljs-title">getId<span class="hljs-params">() {
		<span class="hljs-keyword">return id;
	}
	<span class="hljs-function"><span class="hljs-keyword">public <span class="hljs-keyword">void <span class="hljs-title">setId<span class="hljs-params">(<span class="hljs-keyword">int id) {
		<span class="hljs-keyword">this.id = id;
	}
	<span class="hljs-function"><span class="hljs-keyword">public String <span class="hljs-title">getName<span class="hljs-params">() {
		<span class="hljs-keyword">return name;
	}
	<span class="hljs-function"><span class="hljs-keyword">public <span class="hljs-keyword">void <span class="hljs-title">setName<span class="hljs-params">(String name) {
		<span class="hljs-keyword">this.name = name;
	}
	<span class="hljs-function"><span class="hljs-keyword">public <span class="hljs-keyword">float <span class="hljs-title">getPrice<span class="hljs-params">() {
		<span class="hljs-keyword">return price;
	}
	<span class="hljs-function"><span class="hljs-keyword">public <span class="hljs-keyword">void <span class="hljs-title">setPrice<span class="hljs-params">(<span class="hljs-keyword">float price) {
		<span class="hljs-keyword">this.price = price;
	}
	<span class="hljs-function"><span class="hljs-keyword">public <span class="hljs-keyword">int <span class="hljs-title">getNum<span class="hljs-params">() {
		<span class="hljs-keyword">return num;
	}
	<span class="hljs-function"><span class="hljs-keyword">public <span class="hljs-keyword">void <span class="hljs-title">setNum<span class="hljs-params">(<span class="hljs-keyword">int num) {
		<span class="hljs-keyword">this.num = num;
	}
}
</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></code></pre>

<h1 id="%C2%A0%E5%85%AD%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%BA%93"><span style="color: #86ca5e;">&nbsp;六：数据库</span></h1>
<p><span style="color: #86ca5e;">本地创建数据库shop，创建表t_good</span></p>
<src class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_wrapper_has cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="代码段" data-cke-widget-id="17">
<pre class="has cke_widget_element" data-cke-widget-data="{&amp;quot;lang&amp;quot;:&amp;quot;sql&amp;quot;,&amp;quot;code&amp;quot;:&amp;quot;CREATE TABLE `t_good` (\n  `id` int(5) NOT NULL,\n  `name` varchar(25) NOT NULL,\n  `price` float(10,2) NOT NULL,\n  `num` int(5) NOT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="codeSnippet"><code class="language-sql hljs"><span class="hljs-keyword">CREATE <span class="hljs-keyword">TABLE <span class="hljs-string">`t_good` (
  <span class="hljs-string">`id` <span class="hljs-built_in">int(<span class="hljs-number">5) <span class="hljs-keyword">NOT <span class="hljs-literal">NULL,
  <span class="hljs-string">`name` <span class="hljs-built_in">varchar(<span class="hljs-number">25) <span class="hljs-keyword">NOT <span class="hljs-literal">NULL,
  <span class="hljs-string">`price` <span class="hljs-built_in">float(<span class="hljs-number">10,<span class="hljs-number">2) <span class="hljs-keyword">NOT <span class="hljs-literal">NULL,
  <span class="hljs-string">`num` <span class="hljs-built_in">int(<span class="hljs-number">5) <span class="hljs-keyword">NOT <span class="hljs-literal">NULL,
  PRIMARY <span class="hljs-keyword">KEY (<span class="hljs-string">`id`)
) <span class="hljs-keyword">ENGINE=<span class="hljs-keyword">InnoDB <span class="hljs-keyword">DEFAULT <span class="hljs-keyword">CHARSET=utf8mb4;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></code></pre>

<h1 id="7.%E6%A0%B8%E5%BF%83%E4%B8%9A%E5%8A%A1"><span style="color: #86ca5e;">七.核心业务<br /></span></h1>
<src class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_wrapper_has cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="代码段" data-cke-widget-id="16">
<pre class="has cke_widget_element" data-cke-widget-data="{&amp;quot;code&amp;quot;:&amp;quot;package com.javayihao.top.service;\n\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\nimport com.javayihao.top.pojo.Good;\nimport com.javayihao.top.utils.DbUtil;\n\n/**\n * @date 2019-12-9\n * @Description 系统主界面\n * @author com.javayihao.top\n */\npublic class ShopView {\n\t//获取键盘输入对象\n\tScanner input = new Scanner(System.in);\n\t/*\n\t * 系统运行方法\n\t */\n\tpublic void ShopStart() {\n\t\tSystem.out.println(\&amp;quot;=================欢迎使用超市购物管理系统=================\&amp;quot;);\n\t\t//是否继续的标志量，默认是\n\t\tString isGo=\&amp;quot;y\&amp;quot;;\n\t\tdo{\n\t\t\t//调用菜单那展示的函数\n\t\t\t\tshowMenu();\n\t\t\t\tSystem.out.println(\&amp;quot;请输入要执行的操作\&amp;quot;);\n\t\t\t\t//接受键盘的输入，这里使用String,一次性处理数字和字符输入，不建议使用int类型数字\n\t\t\t\tString select =input.next();\n\t\t\t\t//根据输入的选择执行对应的方法\n\t\t\t\tswitch (select) {\n\t\t\t\t//执行商品入库方法\n\t\t\t\tcase \&amp;quot;1\&amp;quot;:\n\t\t\t\t\tinsertGood();\n\t\t\t\t\tbreak;\n\t\t\t\t//执行商品查詢方法\n\t\t\t\tcase \&amp;quot;2\&amp;quot;:\n\t\t\t\t\tSystem.out.println(\&amp;quot;输入要查询的商品编号\&amp;quot;);\n\t\t\t\t\tint goodId = input.nextInt();\n\t\t\t\t\t//调用查询商品的方法，\n\t\t\t\t\tGood good = searchGoodById(goodId);\n\t\t\t\t\t//存在\n\t\t\t\t\tif(good!=null){\n\t\t\t\t\t\tSystem.out.println(\&amp;quot;商品编号:\&amp;quot;+goodId+\&amp;quot; 商品名称:\&amp;quot;+good.getName()\n\t\t\t\t\t\t+\&amp;quot;  商品价格:\&amp;quot;+good.getPrice()+\&amp;quot;  商品数量:\&amp;quot;+good.getNum());\n\t\t\t\t\t}else{\n\t\t\t\t\t\tSystem.out.println(\&amp;quot;此商品不存在\&amp;quot;);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t//执行商品列表方法\n\t\t\t\tcase \&amp;quot;3\&amp;quot;:\n\t\t\t\t\tgetGoodList();\n\t\t\t\t\tbreak;\n\t\t\t\t//执行商品购买方法\n\t\t\t\tcase \&amp;quot;4\&amp;quot;:\n\t\t\t\t\tbuyGood();\n\t\t\t\t\tbreak;\n\t\t\t\t\t//执行商品购买方法\n\t\t\t\tcase \&amp;quot;5\&amp;quot;:\n\t\t\t\t\tSystem.out.println(\&amp;quot;输入要刪除的商品编号\&amp;quot;);\n\t\t\t\t\tint id = input.nextInt();\n\t\t\t\t\t//调用查询商品的方法，\n\t\t\t\t\tif(searchGoodById(id)!=null){\n\t\t\t\t\t\tdeleteGood(id);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tSystem.out.println(\&amp;quot;沒有此商品\&amp;quot;);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \&amp;quot;6\&amp;quot;:\n\t\t\t\t\tupdateGood();\n\t\t\t\t\tbreak;\n\t\t\t\t//退出系统\n\t\t\t\tcase \&amp;quot;0\&amp;quot;:\n\t\t\t\t\tSystem.out.println(\&amp;quot;*************欢迎下次使用 再见!*************\&amp;quot;);\n\t\t\t\t\t//终止程序\n\t\t\t\t\tSystem.exit(0);\n\t\t\t\tdefault:\n\t\t\t\t\tSystem.err.println(\&amp;quot;输入有误 请重新输入!\&amp;quot;);\n\t\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t\tSystem.out.println(\&amp;quot;输入y继续/否则退出\&amp;quot;);\n\t\t\t\tisGo = input.next();\n\t\t}while(isGo.equals(\&amp;quot;y\&amp;quot;));\n\t\tSystem.out.println(\&amp;quot;*************欢迎下次使用 再见!*************\&amp;quot;);\n\t}\n\t/**\n\t * 更新商品操作\n\t * 1.先查询当前要更新的商品存不存在\n\t * 2.如果存在更新即可，不存在提示\n\t */\n\tprivate void updateGood() {\n\t\tSystem.out.println(\&amp;quot;输入要修改的商品id\&amp;quot;);\n\t\tint gid = input.nextInt();\n\t\tGood good = searchGoodById(gid);\n\t\tSystem.out.println(\&amp;quot;商品信息如下\&amp;quot;);\n\t\tif(good!=null){\n\t\t\tSystem.out.println(\&amp;quot;商品编号:\&amp;quot;+gid+\&amp;quot; 商品名称:\&amp;quot;+good.getName()\n\t\t\t+\&amp;quot;  商品价格:\&amp;quot;+good.getPrice()+\&amp;quot;  商品数量:\&amp;quot;+good.getNum());\n\t\t\tSystem.out.println(\&amp;quot;修改商品名称\&amp;quot;);\n\t\t\tString name = input.next();\n\t\t\tSystem.out.println(\&amp;quot;修改商品单价\&amp;quot;);\n\t\t\tfloat price = input.nextFloat();\n\t\t\tSystem.out.println(\&amp;quot;修改商品库存\&amp;quot;);\n\t\t\tint num = input.nextInt();\n\t\t\tString sql=\&amp;quot;update t_good set name=?,price=?,num=? where id=? \&amp;quot;;\n\t\t\ttry {\n\t\t\t\t//创建一个操作数据库的对象\n\t\t\t\tConnection con = DbUtil.getConnection();\n\t\t\t\t//创建执行sql的执行对象PreparedStatement\n\t\t\t\tPreparedStatement pst = con.prepareStatement(sql);\n\t\t\t\t//给占位符设置值\n\t\t\t\tpst.setString(1, name);\n\t\t\t\tpst.setFloat(2, price);\n\t\t\t\tpst.setInt(3, num);\n\t\t\t\tpst.setInt(4, gid);\n\t\t\t\t//如果是查询的话execute()返回true，如果是更新或插入的话就返回false\n\t\t\t\tif(!pst.execute()){\n\t\t\t\t\tSystem.out.println(\&amp;quot;更新成功\&amp;quot;);\n\t\t\t\t}\n\t\t\t\t//关闭连接\n\t\t\t\tDbUtil.close(con, pst);\n\t\t\t} catch (Exception e) {\n\t\t\t\te.printStackTrace();\n\t\t\t\tSystem.out.println(\&amp;quot;更新异常\&amp;quot;+e.getMessage());\n\t\t\t}\n\t\t}else{\n\t\t\tSystem.out.println(\&amp;quot;此商品不存在\&amp;quot;);\n\t\t}\n\t\t\n\t}\n\t\t//用于展示系统界面菜单的方法\n\t\tprivate void  showMenu() {\n\t\t\tSystem.out.println(\&amp;quot;1.商品入库\&amp;quot;);\n\t\t\tSystem.out.println(\&amp;quot;2.根据商品编号查询商品\&amp;quot;);\n\t\t\tSystem.out.println(\&amp;quot;3.商品列表\&amp;quot;);\n\t\t\tSystem.out.println(\&amp;quot;4.购买商品\&amp;quot;);\n\t\t\tSystem.out.println(\&amp;quot;5.删除商品\&amp;quot;);\n\t\t\tSystem.out.println(\&amp;quot;6.更新商品\&amp;quot;);\n\t\t\tSystem.out.println(\&amp;quot;0.退出系统\&amp;quot;);\n\t\t}\n\t/*\n\t * 刪除商品\n\t * 1.首先得判断该商品存在\n\t * 2.根据商品编号id删除\n\t */\n\tprivate void deleteGood(int id) {\n\t\tString sql = \&amp;quot;delete from t_good where id=?\&amp;quot;;\n\t\ttry {\n\t\t\t//创建一个操作数据库的对象\n\t\t\tConnection con = DbUtil.getConnection();\n\t\t\t//创建执行sql的执行对象PreparedStatement\n\t\t\tPreparedStatement pst = con.prepareStatement(sql);\n\t\t\t//给占位符设置值\n\t\t\tpst.setInt(1, id);\n\t\t\t//如果是查询的话execute()返回true，如果是更新或插入的话就返回false\n\t\t\tif(!pst.execute()){\n\t\t\t\tSystem.out.println(\&amp;quot;刪除成功\&amp;quot;);\n\t\t\t}\n\t\t\t//关闭连接\n\t\t\tDbUtil.close(con, pst);\n\t\t} catch (Exception e) {\n\t\t\te.printStackTrace();\n\t\t\tSystem.out.println(\&amp;quot;删除异常\&amp;quot;+e.getMessage());\n\t\t}\n\t}\n\t/*\n\t * 商品入库\n\t * 这里只处理编号不能重复的逻辑，\n\t * 关于输入的编号是不是数字这里就不做判断，有兴趣的朋友可以试试\n\t */\n\tprivate void insertGood(){\n\t\t//商品编号\n\t\tint id=0;\n\t\tSystem.out.println(\&amp;quot;输入商品编号\&amp;quot;);\n\t\twhile(true){\n\t\t\t id= input.nextInt();\n\t\t\t//判断当前输入的编号重复没有，重复重新输入\n\t\t\tif(searchGoodById(id)==null){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tSystem.err.println(\&amp;quot;编号重复，请重新输入商品编号\&amp;quot;);\n\t\t}\n\t\tSystem.out.println(\&amp;quot;输入商品名称\&amp;quot;);\n\t\tString name = input.next();\n\t\tSystem.out.println(\&amp;quot;输入商品单价\&amp;quot;);\n\t\tfloat price = input.nextFloat();\n\t\tSystem.out.println(\&amp;quot;输入商品数量\&amp;quot;);\n\t\tint num = input.nextInt();\n\t\t//要执行的sql语句，这里使用占位符防止sql入侵\n\t\tString sql = \&amp;quot;insert into t_good()values(?,?,?,?)\&amp;quot;;\n\t\ttry {\n\t\t\t//创建一个操作数据库的对象\n\t\t\tConnection con = DbUtil.getConnection();\n\t\t\t//创建执行sql的执行对象PreparedStatement\n\t\t\tPreparedStatement pst = con.prepareStatement(sql);\n\t\t\t//给占位符设置值\n\t\t\tpst.setInt(1, id);\n\t\t\tpst.setString(2, name);\n\t\t\tpst.setFloat(3, price);\n\t\t\tpst.setInt(4, num);\n\t\t\t//执行sql语句\n\t\t    if(!pst.execute()){\n\t\t    \tSystem.out.println(\&amp;quot;入库成功\&amp;quot;);\n\t\t     }\n\t\t\t//关闭连接\n\t\t\tDbUtil.close(con, pst);\n\t\t} catch (Exception e) {\n\t\t\te.printStackTrace();\n\t\t\tSystem.out.println(\&amp;quot;入库异常\&amp;quot;+e.getMessage());\n\t\t}\n\t}\n\t/*商品查询\n\t * 返回的是一个商品对象，没有此商品返回null\n\t */\n\tprivate Good searchGoodById(int id) {\n\t\t//执行的sql语句\n\t\tString sql=\&amp;quot;select id,name,price,num from t_good where id=?\&amp;quot;;\n\t\ttry {\n\t\t\t//创建一个操作数据库的对象\n\t\t\tConnection con = DbUtil.getConnection();\n\t\t\t//创建执行sql的对象PreparedStatement\n\t\t\tPreparedStatement pst = con.prepareStatement(sql);\n\t\t\tpst.setInt(1, id);\n\t\t\tResultSet rs = pst.executeQuery();\n\t\t\tif(rs.next()){//有结果，将查到的数据通过构造函数封装成一个商品对象\n\t\t\t\tGood good = new Good(rs.getInt(\&amp;quot;id\&amp;quot;), rs.getString(\&amp;quot;name\&amp;quot;), \n\t\t\t\t\t\trs.getFloat(\&amp;quot;price\&amp;quot;), rs.getInt(\&amp;quot;num\&amp;quot;));\n\t\t\t\treturn good;\n\t\t\t}\n\t\t\t//关闭连接\n\t\t\tDbUtil.close(con, pst);\n\t\t} catch (SQLException e) {\n\t\t\te.printStackTrace();\n\t\t}\n\t\treturn null;\n\t}\n\t//商品列表\n\tprivate void getGoodList(){\n\t\t//执行的sql语句\n\t\t\t\tString sql=\&amp;quot;select id,name,price,num from t_good\&amp;quot;;\n\t\t\t\ttry {\n\t\t\t\t\t//创建一个操作数据库的对象\n\t\t\t\t\tConnection con = DbUtil.getConnection();\n\t\t\t\t\t//创建执行sql的对象PreparedStatement\n\t\t\t\t\tPreparedStatement pst = con.prepareStatement(sql);\n\t\t\t\t\tResultSet rs = pst.executeQuery();\n\t\t\t\t\tSystem.out.println(\&amp;quot;编号\\t\&amp;quot;+\&amp;quot;名称\\t\&amp;quot;+\&amp;quot;单价\\t\&amp;quot;+\&amp;quot;数量\\t\&amp;quot;);\n\t\t\t\t\tif(rs.wasNull()){\n\t\t\t\t\t\tSystem.out.println(\&amp;quot;没有商品\&amp;quot;);\n\t\t\t\t\t}else{\n\t\t\t\t\t\twhile(rs.next()){//有结果，打印\n\t\t\t\t\t\t\t//通过rs.getxxx(\&amp;quot;yy\&amp;quot;)方法参数是数据库列名\n\t\t\t\t\t\t\tSystem.out.println(rs.getInt(\&amp;quot;id\&amp;quot;)+\&amp;quot;\\t\&amp;quot;+rs.getString(\&amp;quot;name\&amp;quot;)+\&amp;quot;\\t\&amp;quot;+\n\t\t\t\t\t\t\t\t\trs.getFloat(\&amp;quot;price\&amp;quot;)+\&amp;quot;\\t\&amp;quot;+rs.getInt(\&amp;quot;num\&amp;quot;)+\&amp;quot;\\t\&amp;quot;);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t//关闭连接\n\t\t\t\t\tDbUtil.close(con, pst);\n\t\t\t\t} catch (SQLException e) {\n\t\t\t\t\te.printStackTrace();\n\t\t\t\t}\n\t}\n\t//购买商品\n\tpublic void buyGood() {\n\t\t//用来存储购买商品的集合\n\t\tArrayList&amp;lt;Good&amp;gt; goods = new ArrayList&amp;lt;&amp;gt;();\n\t\t//是否继续购买标记\n\t\tString flag = \&amp;quot;y\&amp;quot;;\n\t\tdo{\n\t\t\tSystem.out.println(\&amp;quot;输入购买商品的编号\&amp;quot;);\n\t\t\tint id = input.nextInt();\n\t\t\tGood good = searchGoodById(id);\n\t\t\tif(good!=null){\n\t\t\t\tSystem.out.println(\&amp;quot;输入购买商品的数量\&amp;quot;);\n\t\t\t\tint num = input.nextInt();\n\t\t\t\tif(good.getNum()&amp;lt;num){\n\t\t\t\t\tSystem.out.println(\&amp;quot;此商品库存\&amp;quot;+good.getNum()+\&amp;quot;  无法购买;\&amp;quot;);\n\t\t\t\t\t\n\t\t\t\t}else{\n\t\t\t\t\ttry{\n\t\t\t\t\t\tString sql=\&amp;quot;update t_good set num=? where id=?\&amp;quot;;\n\t\t\t\t\t\t//创建一个操作数据库的对象\n\t\t\t\t\t\tConnection con = DbUtil.getConnection();\n\t\t\t\t\t\t//创建执行sql的对象PreparedStatement\n\t\t\t\t\t\tPreparedStatement pst = con.prepareStatement(sql);\n\t\t\t\t\t\tpst.setInt(1, good.getNum()-num);//更新库存\n\t\t\t\t\t\tpst.setInt(2, id);\n\t\t\t\t\t\tif(pst.executeUpdate()==1){\n\t\t\t\t\t\t\t//存入购买商品的集合goods\n\t\t\t\t\t\t\tGood g = new Good(id,good.getName(),good.getPrice(),num);\n\t\t\t\t\t\t\tif(goods.size()&amp;gt;0){\n\t\t\t\t\t\t\t\tfor (int i = 0; i &amp;lt; goods.size(); i++) {\n\t\t\t\t\t\t\t\t\tif(goods.get(i).getId()==id){//如果购物车中有该商品 数量加即可\n\t\t\t\t\t\t\t\t\t\tgoods.get(0).setNum(num+goods.get(0).getNum());\n\t\t\t\t\t\t\t\t\t}else{//如果购物车中没有该商品 数量加即可\n\t\t\t\t\t\t\t\t\t\tgoods.add(g);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}else{//购物车中没有商品，加入到购物车中\n\t\t\t\t\t\t\t\tgoods.add(g);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tSystem.out.println(\&amp;quot;购买成功\&amp;quot;);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tSystem.out.println(\&amp;quot;购买失敗\&amp;quot;);\n\t\t\t\t\t\t}\n\t\t\t\t\t}catch(Exception e){\n\t\t\t\t\t\te.printStackTrace();\n\t\t\t\t\t\tSystem.out.println(\&amp;quot;购买异常\&amp;quot;+e.getMessage());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tSystem.out.println(\&amp;quot;输入y继续购买/输入其他结算\&amp;quot;);\n\t\t\t\tflag = input.next();\n\t\t\t\tif(!flag.equals(\&amp;quot;y\&amp;quot;)){\n\t\t\t\t\t//结算\n\t\t\t\t\taccount(goods);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tSystem.out.println(\&amp;quot;没有此商品\&amp;quot;);\n\t\t\t}\n\t\t}while(flag.equals(\&amp;quot;y\&amp;quot;));\n\t}\n\t//结算购物车\n\tprivate void account(ArrayList&amp;lt;Good&amp;gt; goods) {\n\t\tSystem.out.println(\&amp;quot;编号\\t\&amp;quot;+\&amp;quot;名称\\t\&amp;quot;+\&amp;quot;数量\\t\&amp;quot;+\&amp;quot;总价\&amp;quot;);\n\t\t//lambda表达式遍历集合，当然是用for循环也ok\n\t\tgoods.forEach(in-&amp;gt;System.out.println(in.getId()+\&amp;quot;\\t\&amp;quot;+in.getName()+\n\t\t\t\t\&amp;quot;\\t\&amp;quot;+in.getNum()+\&amp;quot;\\t\&amp;quot;+in.getNum()*in.getPrice()));\n\t\t//合计\n\t\tfloat sum=0;\n\t\tfor (int i = 0; i &amp;lt; goods.size(); i++) {\n\t\t\t//对总价求和\n\t\t\tsum += (goods.get(i).getNum())*(goods.get(i).getPrice());\n\t\t}\n\t\tSystem.out.println(\&amp;quot;总计消费:\&amp;quot;+sum+\&amp;quot;元\&amp;quot;);\n\t}\n}\n&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="codeSnippet"><code class="hljs">package com.javayihao.top.service;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.ArrayList;
import java.util.Scanner;

import com.javayihao.top.pojo.Good;
import com.javayihao.top.utils.DbUtil;

/**
 * @date 2019-12-9
 * @Description 系统主界面
 * @author com.javayihao.top
 */
public class ShopView {
	//获取键盘输入对象
	Scanner input = new Scanner(System.in);
	/*
	 * 系统运行方法
	 */
	public void ShopStart() {
		System.out.println("=================欢迎使用超市购物管理系统=================");
		//是否继续的标志量，默认是
		String isGo="y";
		do{
			//调用菜单那展示的函数
				showMenu();
				System.out.println("请输入要执行的操作");
				//接受键盘的输入，这里使用String,一次性处理数字和字符输入，不建议使用int类型数字
				String select =input.next();
				//根据输入的选择执行对应的方法
				switch (select) {
				//执行商品入库方法
				case "1":
					insertGood();
					break;
				//执行商品查詢方法
				case "2":
					System.out.println("输入要查询的商品编号");
					int goodId = input.nextInt();
					//调用查询商品的方法，
					Good good = searchGoodById(goodId);
					//存在
					if(good!=null){
						System.out.println("商品编号:"+goodId+" 商品名称:"+good.getName()
						+"  商品价格:"+good.getPrice()+"  商品数量:"+good.getNum());
					}else{
						System.out.println("此商品不存在");
					}
					break;
				//执行商品列表方法
				case "3":
					getGoodList();
					break;
				//执行商品购买方法
				case "4":
					buyGood();
					break;
					//执行商品购买方法
				case "5":
					System.out.println("输入要刪除的商品编号");
					int id = input.nextInt();
					//调用查询商品的方法，
					if(searchGoodById(id)!=null){
						deleteGood(id);
					}else{
						System.out.println("沒有此商品");
					}
					break;
				case "6":
					updateGood();
					break;
				//退出系统
				case "0":
					System.out.println("*************欢迎下次使用 再见!*************");
					//终止程序
					System.exit(0);
				default:
					System.err.println("输入有误 请重新输入!");
					continue;
			}
				System.out.println("输入y继续/否则退出");
				isGo = input.next();
		}while(isGo.equals("y"));
		System.out.println("*************欢迎下次使用 再见!*************");
	}
	/**
	 * 更新商品操作
	 * 1.先查询当前要更新的商品存不存在
	 * 2.如果存在更新即可，不存在提示
	 */
	private void updateGood() {
		System.out.println("输入要修改的商品id");
		int gid = input.nextInt();
		Good good = searchGoodById(gid);
		System.out.println("商品信息如下");
		if(good!=null){
			System.out.println("商品编号:"+gid+" 商品名称:"+good.getName()
			+"  商品价格:"+good.getPrice()+"  商品数量:"+good.getNum());
			System.out.println("修改商品名称");
			String name = input.next();
			System.out.println("修改商品单价");
			float price = input.nextFloat();
			System.out.println("修改商品库存");
			int num = input.nextInt();
			String sql="update t_good set name=?,price=?,num=? where id=? ";
			try {
				//创建一个操作数据库的对象
				Connection con = DbUtil.getConnection();
				//创建执行sql的执行对象PreparedStatement
				PreparedStatement pst = con.prepareStatement(sql);
				//给占位符设置值
				pst.setString(1, name);
				pst.setFloat(2, price);
				pst.setInt(3, num);
				pst.setInt(4, gid);
				//如果是查询的话execute()返回true，如果是更新或插入的话就返回false
				if(!pst.execute()){
					System.out.println("更新成功");
				}
				//关闭连接
				DbUtil.close(con, pst);
			} catch (Exception e) {
				e.printStackTrace();
				System.out.println("更新异常"+e.getMessage());
			}
		}else{
			System.out.println("此商品不存在");
		}
		
	}
		//用于展示系统界面菜单的方法
		private void  showMenu() {
			System.out.println("1.商品入库");
			System.out.println("2.根据商品编号查询商品");
			System.out.println("3.商品列表");
			System.out.println("4.购买商品");
			System.out.println("5.删除商品");
			System.out.println("6.更新商品");
			System.out.println("0.退出系统");
		}
	/*
	 * 刪除商品
	 * 1.首先得判断该商品存在
	 * 2.根据商品编号id删除
	 */
	private void deleteGood(int id) {
		String sql = "delete from t_good where id=?";
		try {
			//创建一个操作数据库的对象
			Connection con = DbUtil.getConnection();
			//创建执行sql的执行对象PreparedStatement
			PreparedStatement pst = con.prepareStatement(sql);
			//给占位符设置值
			pst.setInt(1, id);
			//如果是查询的话execute()返回true，如果是更新或插入的话就返回false
			if(!pst.execute()){
				System.out.println("刪除成功");
			}
			//关闭连接
			DbUtil.close(con, pst);
		} catch (Exception e) {
			e.printStackTrace();
			System.out.println("删除异常"+e.getMessage());
		}
	}
	/*
	 * 商品入库
	 * 这里只处理编号不能重复的逻辑，
	 * 关于输入的编号是不是数字这里就不做判断，有兴趣的朋友可以试试
	 */
	private void insertGood(){
		//商品编号
		int id=0;
		System.out.println("输入商品编号");
		while(true){
			 id= input.nextInt();
			//判断当前输入的编号重复没有，重复重新输入
			if(searchGoodById(id)==null){
				break;
			}
			System.err.println("编号重复，请重新输入商品编号");
		}
		System.out.println("输入商品名称");
		String name = input.next();
		System.out.println("输入商品单价");
		float price = input.nextFloat();
		System.out.println("输入商品数量");
		int num = input.nextInt();
		//要执行的sql语句，这里使用占位符防止sql入侵
		String sql = "insert into t_good()values(?,?,?,?)";
		try {
			//创建一个操作数据库的对象
			Connection con = DbUtil.getConnection();
			//创建执行sql的执行对象PreparedStatement
			PreparedStatement pst = con.prepareStatement(sql);
			//给占位符设置值
			pst.setInt(1, id);
			pst.setString(2, name);
			pst.setFloat(3, price);
			pst.setInt(4, num);
			//执行sql语句
		    if(!pst.execute()){
		    	System.out.println("入库成功");
		     }
			//关闭连接
			DbUtil.close(con, pst);
		} catch (Exception e) {
			e.printStackTrace();
			System.out.println("入库异常"+e.getMessage());
		}
	}
	/*商品查询
	 * 返回的是一个商品对象，没有此商品返回null
	 */
	private Good searchGoodById(int id) {
		//执行的sql语句
		String sql="select id,name,price,num from t_good where id=?";
		try {
			//创建一个操作数据库的对象
			Connection con = DbUtil.getConnection();
			//创建执行sql的对象PreparedStatement
			PreparedStatement pst = con.prepareStatement(sql);
			pst.setInt(1, id);
			ResultSet rs = pst.executeQuery();
			if(rs.next()){//有结果，将查到的数据通过构造函数封装成一个商品对象
				Good good = new Good(rs.getInt("id"), rs.getString("name"), 
						rs.getFloat("price"), rs.getInt("num"));
				return good;
			}
			//关闭连接
			DbUtil.close(con, pst);
		} catch (SQLException e) {
			e.printStackTrace();
		}
		return null;
	}
	//商品列表
	private void getGoodList(){
		//执行的sql语句
				String sql="select id,name,price,num from t_good";
				try {
					//创建一个操作数据库的对象
					Connection con = DbUtil.getConnection();
					//创建执行sql的对象PreparedStatement
					PreparedStatement pst = con.prepareStatement(sql);
					ResultSet rs = pst.executeQuery();
					System.out.println("编号\t"+"名称\t"+"单价\t"+"数量\t");
					if(rs.wasNull()){
						System.out.println("没有商品");
					}else{
						while(rs.next()){//有结果，打印
							//通过rs.getxxx("yy")方法参数是数据库列名
							System.out.println(rs.getInt("id")+"\t"+rs.getString("name")+"\t"+
									rs.getFloat("price")+"\t"+rs.getInt("num")+"\t");
						}
					}
					//关闭连接
					DbUtil.close(con, pst);
				} catch (SQLException e) {
					e.printStackTrace();
				}
	}
	//购买商品
	public void buyGood() {
		//用来存储购买商品的集合
		ArrayList&lt;Good&gt; goods = new ArrayList&lt;&gt;();
		//是否继续购买标记
		String flag = "y";
		do{
			System.out.println("输入购买商品的编号");
			int id = input.nextInt();
			Good good = searchGoodById(id);
			if(good!=null){
				System.out.println("输入购买商品的数量");
				int num = input.nextInt();
				if(good.getNum()&lt;num){
					System.out.println("此商品库存"+good.getNum()+"  无法购买;");
					
				}else{
					try{
						String sql="update t_good set num=? where id=?";
						//创建一个操作数据库的对象
						Connection con = DbUtil.getConnection();
						//创建执行sql的对象PreparedStatement
						PreparedStatement pst = con.prepareStatement(sql);
						pst.setInt(1, good.getNum()-num);//更新库存
						pst.setInt(2, id);
						if(pst.executeUpdate()==1){
							//存入购买商品的集合goods
							Good g = new Good(id,good.getName(),good.getPrice(),num);
							if(goods.size()&gt;0){
								for (int i = 0; i &lt; goods.size(); i++) {
									if(goods.get(i).getId()==id){//如果购物车中有该商品 数量加即可
										goods.get(0).setNum(num+goods.get(0).getNum());
									}else{//如果购物车中没有该商品 数量加即可
										goods.add(g);
									}
								}
							}else{//购物车中没有商品，加入到购物车中
								goods.add(g);
							}
							System.out.println("购买成功");
						}else{
							System.out.println("购买失敗");
						}
					}catch(Exception e){
						e.printStackTrace();
						System.out.println("购买异常"+e.getMessage());
					}
				}
				System.out.println("输入y继续购买/输入其他结算");
				flag = input.next();
				if(!flag.equals("y")){
					//结算
					account(goods);
				}
			}else{
				System.out.println("没有此商品");
			}
		}while(flag.equals("y"));
	}
	//结算购物车
	private void account(ArrayList&lt;Good&gt; goods) {
		System.out.println("编号\t"+"名称\t"+"数量\t"+"总价");
		//lambda表达式遍历集合，当然是用for循环也ok
		goods.forEach(in-&gt;System.out.println(in.getId()+"\t"+in.getName()+
				"\t"+in.getNum()+"\t"+in.getNum()*in.getPrice()));
		//合计
		float sum=0;
		for (int i = 0; i &lt; goods.size(); i++) {
			//对总价求和
			sum += (goods.get(i).getNum())*(goods.get(i).getPrice());
		}
		System.out.println("总计消费:"+sum+"元");
	}
}
</code></code></pre>

<h1 id="%E6%80%BB%E7%BB%93"><span style="color: #86ca5e;">总结</span></h1>
<p>至此，项目已经完成了，当然项目本身还是存在不足，比如，在接受键盘输入的合法性判断。对于java操作数据库而言可以参考，</p>
<p>源码我放在了公众号&nbsp; java一号&nbsp; 有需要的自提</p>
<p>不是在搬砖，就是搬砖的路上，希望你的程序永无bug</p>
<p><span class="cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="图像" data-cke-widget-id="15"><img class="has cke_widget_element" src="./images/java超市购物管理系统8.png" alt="" width="900" height="500" data-cke-saved-src="./images/java超市购物管理系统8.png" data-cke-widget-data="{&amp;quot;hasCaption&amp;quot;:false,&amp;quot;src&amp;quot;:&amp;quot;./images/java超市购物管理系统8.png&amp;quot;,&amp;quot;alt&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;width&amp;quot;:&amp;quot;900&amp;quot;,&amp;quot;height&amp;quot;:&amp;quot;500&amp;quot;,&amp;quot;lock&amp;quot;:true,&amp;quot;align&amp;quot;:&amp;quot;none&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="image" /><span class="cke_reset cke_widget_drag_handler_container" style="background: rgba(220,220,220,0.5); background-image: url('https://csdnimg.cn/release/blog_editor_html/release1.6.0/ckeditor/plugins/widget/images/handle.png');"><span class="cke_image_resizer" title="点击并拖拽以改变尺寸">​<br /></span></span></span></p>

</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>