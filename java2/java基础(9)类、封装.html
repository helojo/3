<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修java基础(9)类、封装' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>java基础(9)类、封装</center></div><div class='banquan'>原文出处:本文由博客园博主爱编程的小灰灰提供。<br/>
原文连接:https://www.cnblogs.com/liuhui0308/p/11631802.html</div><br>
    <h1>1. 面向对象</h1>
<h2>1.1 理解什么是面向过程、面向对象</h2>
<p>面向过程与面向对象都是我们编程中，编写程序的一种思维方式。</p>
<p class="a">面向过程的程序设计方式，是遇到一件事时，思考&ldquo;我该怎么做&rdquo;，然后一步步实现的过程。</p>
<p class="a">例如：公司打扫卫生（擦玻璃、扫地、拖地、倒垃圾等），按照面向过程的程序设计方式会思考&ldquo;打扫卫生我该怎么做，然后一件件的完成&rdquo;，最后把公司卫生打扫干净了。</p>
<p class="a">面向对象的程序设计方式，是遇到一件事时，思考&ldquo;我该让谁来做&rdquo;，然后那个&ldquo;谁&rdquo;就是对象，他要怎么做这件事是他自己的事，反正最后一群对象合力能把事就好就行了。</p>
<p class="a">例如，公司打扫卫生（擦玻璃、扫地、拖地、倒垃圾等），按照面向对象的程序设计方式会思考&ldquo;我该让谁来做，如小明擦玻璃、让小丽扫地、让小郭拖地、让小强倒垃圾等&rdquo;,这里的&ldquo;小明、小丽、小郭、小强&rdquo;就是对象，他们要打扫卫生，怎么打扫是他们自己的事，反正最后一群对象合力把公司卫生打扫干净了。</p>
<h2>1.2 面向对象举例</h2>
<p class="a">买电脑（组装机）</p>
<p>先使用面向过程说明买电脑这件事：假如我们需要买组装电脑，这时首先会在网上查询具体每一个硬件的参数和报价。然后会去电脑城进行多家询价，接着询价结束后回家根据具体的结果分析出自己比较满意的哪家报价，接着会到这家店里进行组装，组装时还需要进行现场监督，组装完成安装相应的系统，然后电脑抱回家。</p>
<p>分析上述整个过程大体分一下几步：上网查询参数和报价、电脑城询价、现场安装和监督、抱电脑回家。在整个过程中我们参与了每一个细节，并且会感觉相当累。</p>
<p>使用面向对象说明买电脑这件事：假如我们需要买组装机，这时应该找一个懂电脑硬件的人，让他帮我们查看参数和报价，并进行询价和杀价，以及现场组装监督。而我们自己并不需要亲历亲为具体怎么做，只要告诉这个人我们想要的具体需求即可。</p>
<p>分析上述整个过程，发现瞬间变的十分轻松，只要找到懂电脑硬件的这个人，我们的问题都可以解决。并且在这个过程中我们不用那么辛苦。</p>
<h2>1.3 面向对象思维方式的好处</h2>
<p>通过生活中的真实场景使用面向对象分析完之后，我们开始分析面向过程和面向对象的差异做出总结：</p>
<p class="a">面向对象思维方式是一种更符合人们思考习惯的思想</p>
<p class="a">面向过程思维方式中更多的体现的是执行者（自己做事情），面向对象中更多的体现是指挥者（指挥对象做事情）。</p>
<p class="a">面向对象思维方式将复杂的问题简单化。</p>
<h1>2. 类与对象</h1>
<h2>2.1 对象在需求中的使用</h2>
<p>对面向对象有了了解之后，我们来说说在具体问题中如何使用面向对象去分析问题，和如何使用面向对象。</p>
<p>我们把大象装冰箱为例进行分析。</p>
<p>在针对具体的需求，可以使用名词提炼的办法进行分析，寻找具体的对象。</p>
<p>需求：把大象装冰箱里</p>
<p>对象：大象、冰箱</p>
<p>分三步：</p>
<p>1、打开冰箱门</p>
<p>2、将大象装进去</p>
<p>3、关闭冰箱门</p>
<p>分析发现打开、装、关闭都是冰箱的功能。即冰箱对象具备如下功能：</p>
<p>冰箱打开</p>
<p>冰箱存储</p>
<p>冰箱关闭</p>
<p>用伪代码描述，上述需求中有两个具体的事物 大象 和&nbsp; 冰箱</p>
<p>描述大象：</p>
<p>class 大象</p>
<p>{</p>
<p>}</p>
<p>描述冰箱</p>
<p>class冰箱</p>
<p>{</p>
<p>void 打开(){}</p>
<p>void 存储(大象){}</p>
<p>void 关闭(){}</p>
<p>}</p>
<p>当把具体的事物描述清楚之后，需要使用这些具体的事物，Java使用具体的事物，需要通过new关键字来创建这个事物的具体实例。</p>
<p>使用对象：</p>
<p>1、创建冰箱的对象</p>
<src class="cnblogs_code">
<pre><code>冰箱 bx = <span style="color: #0000ff;">new</span> 冰箱(); </code></pre>

<p>2、调用冰箱的功能</p>
<src class="cnblogs_code">
<pre><code><span style="color: #000000;">对象.功能()；

bx.打开();

bx.存储(</span><span style="color: #0000ff;">new</span><span style="color: #000000;"> 大象());

bx.关闭();</span></code></pre>

<p class="a0">总结：</p>
<blockquote>
<p>1、先按照名词提炼问题领域中的对象</p>
<p>2、对对象进行描述，其实就是在明确对象中应该具备的属性和功能</p>
<p>3、通过new的方式就可以创建该事物的具体对象</p>
<p>4、通过该对象调用它以后的功能。</p>
</blockquote>
<h2>2.2 对象在代码中的体现</h2>
<p>在分析现实生活中的事物时发现，这些事物都有其具体的特点和功能，这些特点和功能就组成了这个特殊的事物。</p>
<p>描述小汽车。</p>
<p>分析：</p>
<p>事物的特点（属性）：</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 颜色。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 轮胎个数。</p>
<p>事物的(功能)：</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 运行。</p>
<p>&nbsp;</p>
<p>发现：事物其实就是由特点（属性）和行为（功能）组成的。</p>
<p>可以简单理解：属性就是数值，其实就是变量；行为就是功能，就是方法。</p>
<p>小汽车 {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 颜色；</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 轮胎个数；</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 运行() {&nbsp;&nbsp;&nbsp; }</p>
<p>}</p>
<p>通过计算机语言Java来描述这个事物。</p>
<p class="a0">定义类的格式</p>
<src class="cnblogs_code">
<pre><code><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> 类名 {

    </span><span style="color: #008000;">//</span><span style="color: #008000;">可编写0至n个属性</span>
<span style="color: #000000;">
    数据类型 变量名1；

    数据类型 变量名2；

   

    </span><span style="color: #008000;">//</span><span style="color: #008000;">可编写0至n个方法</span>
<span style="color: #000000;">
    修饰符 返回值类型 方法名(参数){

    执行语句;

    }

}</span></code></pre>

<p class="a0">汽车类</p>
<src class="cnblogs_code">
<pre><code><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Car {

    String color;

    </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> number;

 

    </span><span style="color: #0000ff;">void</span><span style="color: #000000;"> run() {

        System.out.println(color </span>+ ":" +<span style="color: #000000;"> number);

    }

}</span></code></pre>

<p>通过代码的描述，知道类的真正意义就是在描述事物。属性和功能统称为事物中的成员。</p>
<p>事物的成员分为两种：成员属性和成员功能。</p>
<p>成员属性在代码中的体现就是成员变量</p>
<p>成员功能在代码中的体现就是成员方法</p>
<p>把写好的代码测试一下。需要一个可以独立运行类。</p>
<p class="a0">创建对象的格式：</p>
<blockquote>
<p class="a"><span style="color: #ff0000;">类名 对象名 = new 类名();</span></p>
</blockquote>
<p class="a0">测试类</p>
<src class="cnblogs_code">
<pre><code><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> CarDemo {

    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> main(String[] args) {

        </span><span style="color: #008000;">/*</span><span style="color: #008000;">

         *  测试：Car类中的run方法。

         </span><span style="color: #008000;">*/</span>

        <span style="color: #008000;">//</span><span style="color: #008000;"> 1,创建Car的对象。给对象起个名字。</span>
<span style="color: #000000;">
        Car c </span>= <span style="color: #0000ff;">new</span> Car();<span style="color: #008000;">//</span><span style="color: #008000;"> c是类类型的变量。c指向了一个具体的Car类型的对象。

        </span><span style="color: #008000;">//</span><span style="color: #008000;"> 2,通过已有的对象调用该对象的功能。格式：对象.对象成员;

        </span><span style="color: #008000;">//</span><span style="color: #008000;"> 3,可以该对象的属性赋值。</span>
<span style="color: #000000;">
        c.color </span>= "red"<span style="color: #000000;">;

        c.number </span>= 4<span style="color: #000000;">;

        c.run();

    }

}</span></code></pre>

<h2>2.3 对象的内存图解</h2>
<p>经过上面对小汽车的描述，和Java代码测试，我们虽然可以将生活中的事物使用Java代码描述出来，但是这些代码在内存中是如何执行的，接下来我们需要研究下对象在内存的图解。</p>
<p>接下来就是分析对象在内存中的分配情况。这里需要画图一步一步演示，严格按照画图流程讲解内存对象创建过程。</p>
<p><img src="./images/java基础(9)类、封装0.png" alt="" width="650" height="345" /></p>
<h2>2.4 类和对象的区别</h2>
<p>面向对象的编程思想力图在程序中对事物的描述与该事物在现实中的形态保持一致。为了做到这一点，面向对象的思想中提出两个概念，即类和对象。其中，<span style="color: #ff0000;">类是对某一类事物的抽象描述，而对象用于表示现实中该类事物的个体。</span>接下来通过一个图例来抽象描述类与对象的关系，如下图所示。</p>
<p><img src="./images/java基础(9)类、封装1.png" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>在上图中，可以将玩具模型看作是一个类，将一个个玩具看作对象，从玩具模型和玩具之间的关系便可以看出类与对象之间的关系。类用于描述多个对象的共同特征，它是对象的模板。对象用于描述现实中的个体，它是类的实例。从上图中可以明显看出对象是根据类创建的，并且一个类可以对应多个对象，接下来分别讲解什么是类和对象。</p>
<p>经过前面几个知识点的学习，基本上掌握了类是用于描述事物的，类中可以定义事物的属性和行为。而对象是通过描述的这个类，使用new关键字创建出来，通过对象就可以调用该对象具体的属性和功能了。</p>
<h2>2.5 局部变量和成员变量区别</h2>
<p>理解清楚了类和对象之后，结合前5天的学习知识，发现在描述类的属性和前面学习定义变量差别不大，唯一区别就是位置发生了改变，那么类中定义的变量，和在方法定义的变量有啥差别呢？</p>
<p>回忆以前学习时变量的定义方式，和位置，以及现在定义类中属性的特点。总结下面几点异同</p>
<p>区别一：定义的位置不同</p>
<p>定义在类中的变量是成员变量</p>
<p>定义在方法中或者{}语句里面的变量是局部变量</p>
<p>区别二：在内存中的位置不同</p>
<p>成员变量存储在对内存的对象中</p>
<p>局部变量存储在栈内存的方法中</p>
<p>区别三：声明周期不同</p>
<p>成员变量随着对象的出现而出现在堆中，随着对象的消失而从堆中消失</p>
<p>局部变量随着方法的运行而出现在栈中，随着方法的弹栈而消失</p>
<p>区别四：初始化不同</p>
<p>成员变量因为在堆内存中，所有默认的初始化值</p>
<p>局部变量没有默认的初始化值，必须手动的给其赋值才可以使用。</p>
<h2>2.6 基本类型和引用类型作为参数传递</h2>
<p>引用类型数据和基本类型数据作为参数传递有没有差别呢？我们用如下代码进行说明，并配合图解让大家更加清晰</p>
<src class="cnblogs_code">
<pre><code><span style="color: #0000ff;">class</span><span style="color: #000000;"> Demo
{
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> main(String[] args)
    {
        </span><span style="color: #0000ff;">int</span> x = 4<span style="color: #000000;">;
        show(x);
        System.out.println(</span>"x="+<span style="color: #000000;">x);
    }
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span> show(<span style="color: #0000ff;">int</span><span style="color: #000000;"> x)
    {
        x </span>= 5<span style="color: #000000;">;
        
    }
}</span></code></pre>

<p><img src="./images/java基础(9)类、封装2.png" alt="" /></p>
<p>基本类型作为参数传递时，其实就是将基本类型变量x空间中的值复制了一份传递给调用的方法show()，当在show()方法中x接受到了复制的值，再在show()方法中对x变量进行操作，这时只会影响到show中的x。当show方法执行完成，弹栈后，程序又回到main方法执行，main方法中的x值还是原来的值。</p>
<src class="cnblogs_code">
<pre><code><span style="color: #0000ff;">class</span><span style="color: #000000;"> Demo 
{
    </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> x ;
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> main(String[] args) 
    {

        Demo d </span>= <span style="color: #0000ff;">new</span><span style="color: #000000;"> Demo();
        d.x </span>= 5<span style="color: #000000;">;
        show(d);
        System.out.println(</span>"x="+<span style="color: #000000;">d.x);
    }
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> show(Demo d)
    {
        d.x </span>= 6<span style="color: #000000;">;
    }
}</span></code></pre>

<p><img src="./images/java基础(9)类、封装3.png" alt="" /></p>
<p>当引用变量作为参数传递时，这时其实是将引用变量空间中的内存地址(引用)复制了一份传递给了show方法的d引用变量。这时会有两个引用同时指向堆中的同一个对象。当执行show方法中的d.x=6时，会根据d所持有的引用找到堆中的对象，并将其x属性的值改为6.show方法弹栈。</p>
<p>由于是两个引用指向同一个对象，不管是哪一个引用改变了引用的所指向的对象的中的值，其他引用再次使用都是改变后的值。</p>
<h1>3. 封装</h1>
<h2>3.1 封装概述</h2>
<p>提起封装，大家并不陌生。前面我们学习方法时，就提起过，将具体功能封装到方法中，学习对象时，也提过将方法封装在类中，其实这些都是封装。</p>
<p>封装，它也是面向对象思想的特征之一。面向对象共有三个特征：封装，继承，多态。接下来我们具体学习封装。</p>
<blockquote>
<p class="a">封装表现：</p>
<p class="a">　　1、方法就是一个最基本封装体。</p>
<p class="a">　　2、类其实也是一个封装体。</p>
<p class="a">从以上两点得出结论，封装的好处：</p>
<p class="a">　　1、提高了代码的复用性。</p>
<p class="a">　　2、隐藏了实现细节，还要对外提供可以访问的方式。便于调用者的使用。这是核心之一，也可以理解为就是封装的概念。</p>
<p class="a">　　3、提高了安全性。</p>
</blockquote>
<h2>3.2 封装举例</h2>
<p>机箱：</p>
<p>一台电脑，它是由CPU、主板、显卡、内存、硬盘、电源等部件组长，其实我们将这些部件组装在一起就可以使用电脑了，但是发现这些部件都散落在外面，很容造成不安全因素，于是，使用机箱壳子，把这些部件都装在里面，并在机箱壳上留下一些插口等，若不留插口，大家想想会是什么情况。</p>
<p>总结：机箱其实就是隐藏了办卡设备的细节，对外提供了插口以及开关等访问内部细节的方式。</p>
<h2>3.3 私有private</h2>
<p>了解到封装在生活的体现之后，又要回到Java中，细说封装的在Java代码中的体现，先从描述Person说起。</p>
<p>描述人。Person</p>
<p>属性：年龄。</p>
<p>行为：说话：说出自己的年龄。</p>
<src class="cnblogs_code">
<pre><code><span style="color: #0000ff;">class</span><span style="color: #000000;"> Person {
    </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> age;
    String name;

    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> show() {
        System.out.println(</span>"age=" + age + ",name" +<span style="color: #000000;"> name);
    }
}

</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> PersonDemo {
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> main(String[] args) {
        </span><span style="color: #008000;">//</span><span style="color: #008000;"> 创建Person对象</span>
        Person p = <span style="color: #0000ff;">new</span><span style="color: #000000;"> Person();
        p.age </span>= -20; <span style="color: #008000;">//</span><span style="color: #008000;"> 给Person对象赋值</span>
        p.name = "人妖"<span style="color: #000000;">;
        p.show(); </span><span style="color: #008000;">//</span><span style="color: #008000;"> 调用Person的show方法</span>
<span style="color: #000000;">    }
}</span></code></pre>

<p>通过上述代码发现，虽然我们用Java代码把Person描述清楚了，但有个严重的问题，就是Person中的属性的行为可以任意访问和使用。这明显不符合实际需求。</p>
<p>可是怎么才能不让访问呢？需要使用一个Java中的关键字也是一个修饰符 private(私有，权限修饰符)。只要将Person的属性和行为私有起来，这样就无法直接访问。</p>
<src class="cnblogs_code">
<pre><code><span style="color: #0000ff;">class</span><span style="color: #000000;"> Person {
    </span><span style="color: #0000ff;">private</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> age;
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> String name;

    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> show() {
        System.out.println(</span>"age=" + age + ",name" +<span style="color: #000000;"> name);
    }
}</span></code></pre>

<p>年龄已被私有，错误的值无法赋值，可是正确的值也赋值不了，这样还是不行，那肿么办呢？按照之前所学习的封装的原理，隐藏后，还需要提供访问方式。只要对外提供可以访问的方法，让其他程序访问这些方法。同时在方法中可以对数据进行验证。</p>
<p>一般对成员属性的访问动作：赋值(设置 set)，取值(获取 get)，因此对私有的变量访问的方式可以提供对应的 setXxx或者getXxx的方法。</p>
<src class="cnblogs_code">
<pre><code><span style="color: #0000ff;">class</span><span style="color: #000000;"> Person {
    </span><span style="color: #008000;">//</span><span style="color: #008000;"> 私有成员变量</span>
    <span style="color: #0000ff;">private</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> age;
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> String name;

    </span><span style="color: #008000;">//</span><span style="color: #008000;"> 对外提供设置成员变量的方法</span>
    <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span> setAge(<span style="color: #0000ff;">int</span><span style="color: #000000;"> a) {
        </span><span style="color: #008000;">//</span><span style="color: #008000;"> 由于是设置成员变量的值，这里可以加入数据的验证</span>
        <span style="color: #0000ff;">if</span> (a &lt; 0 || a &gt; 130<span style="color: #000000;">) {
            System.out.println(a </span>+ "不符合年龄的数据范围"<span style="color: #000000;">);
            </span><span style="color: #0000ff;">return</span><span style="color: #000000;">;
        }
        age </span>=<span style="color: #000000;"> a; 
    }

    </span><span style="color: #008000;">//</span><span style="color: #008000;"> 对外提供访问成员变量的方法</span>
    <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> getAge() {
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> age;
    }
}</span></code></pre>

<blockquote>
<p class="a">总结：</p>
<p>　　类中不需要对外提供的内容都私有化，包括属性和方法。</p>
<p>　　以后再描述事物，属性都私有化，并提供setXxx getXxx方法对其进行访问。</p>
<p class="a">注意：私有仅仅是封装的体现形式而已。</p>
</blockquote>
<h2>3.4 this关键字</h2>
<h3>3.4.1 成员变量和局部变量同名问题</h3>
<p>当在方法中出现了局部变量和成员变量同名的时候，那么在方法中怎么区别局部变量成员变量呢？<span style="color: #ff0000;">可以在成员变量名前面加上this.来区别成员变量和局部变量</span></p>
<src class="cnblogs_code">
<pre><code><span style="color: #0000ff;">class</span><span style="color: #000000;"> Person {
    </span><span style="color: #0000ff;">private</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> age;
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> String name;
    
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> speak() {
        </span><span style="color: #0000ff;">this</span>.name = "小强"<span style="color: #000000;">;
        </span><span style="color: #0000ff;">this</span>.age = 18<span style="color: #000000;">;
        System.out.println(</span>"name=" + <span style="color: #0000ff;">this</span>.name + ",age=" + <span style="color: #0000ff;">this</span><span style="color: #000000;">.age);
    }
}

</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> PersonDemo {
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> main(String[] args) {
        Person p </span>= <span style="color: #0000ff;">new</span><span style="color: #000000;"> Person();
        p.speak();
    }
}</span></code></pre>

<h3>3.4.2 对象的内存解释</h3>
<p>我们已经学习了如何把生活中的事物使用Java代码描述，接下来我们分析对象在内存中的分配情况。这里需要画图一步一步演示，严格按照画图流程讲解内存对象创建使用过程。</p>
<src class="cnblogs_code">
<pre><code><span style="color: #0000ff;">class</span><span style="color: #000000;"> Person {
    </span><span style="color: #0000ff;">private</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> age;
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> getAge() {
        </span><span style="color: #0000ff;">return</span> <span style="color: #0000ff;">this</span><span style="color: #000000;">.age;
    }
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span> setAge(<span style="color: #0000ff;">int</span><span style="color: #000000;"> age) {
        </span><span style="color: #0000ff;">this</span>.age =<span style="color: #000000;"> age;
    }
}
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> PersonDemo {
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> main(String[] args) {
        Person p </span>= <span style="color: #0000ff;">new</span><span style="color: #000000;"> Person();
        p.setAge(</span>30<span style="color: #000000;">);
        System.out.println(</span>"大家好，今年我" + p.getAge() + "岁"<span style="color: #000000;">);
    }
}</span></code></pre>

<p>下图为程序中内存对象的创建使用过程。</p>
<p><img src="./images/java基础(9)类、封装4.png" alt="" /></p>
<p>序执行流程说明：</p>
<blockquote>
<p class="a">1、 先执行main方法（压栈），执行其中的 Person p = new Person()；</p>
<p class="a">2、 在堆内存中开辟空间，并为其分配内存地址0x1234，紧接着成员变量默认初始化(age = 0)；将内存地址0x1234赋值给栈内中的Person p 变量</p>
<p class="a">3、 继续执行p.setAge(30)语句，这时会调用setAge(int age)方法，将30赋值为setAge方法中的&ldquo;age&rdquo;变量；执行this.age = age语句，将age变量值30 赋值给成员变量this.age为30；</p>
<p class="a">4、 setAge()方法执行完毕后（弹栈），回到main()方法，执行输出语句System.out.println()，控制台打印p对象中的age年龄值。</p>
</blockquote>
<p class="a">注意：</p>
<blockquote>
<p class="a">　　this到底代表什么呢？this代表的是对象，具体代表哪个对象呢？哪个对象调用了this所在的方法，this就代表哪个对象。</p>
<p class="a">　　上述代码中的 p.setAge(30)语句中，setAge(int age)方法中的this代表的就是p对象。</p>
</blockquote>
<h3>3.4.3 this的应用</h3>
<p>学习this的用法之后，现在做个小小的练习。</p>
<p>需求：在Person类中定义功能，判断两个人是否是同龄人</p>
<src class="cnblogs_code">
<pre><code><span style="color: #0000ff;">class</span><span style="color: #000000;"> Person {
    </span><span style="color: #0000ff;">private</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> age;
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> String name;
    
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> getAge() {
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> age;
    }

    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span> setAge(<span style="color: #0000ff;">int</span><span style="color: #000000;"> age) {
        </span><span style="color: #0000ff;">this</span>.age =<span style="color: #000000;"> age;
    }

    </span><span style="color: #0000ff;">public</span><span style="color: #000000;"> String getName() {
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> name;
    }

    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> setName(String name) {
        </span><span style="color: #0000ff;">this</span>.name =<span style="color: #000000;"> name;
    }

    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> speak() {
        System.out.println(</span>"name=" + <span style="color: #0000ff;">this</span>.name + ",age=" + <span style="color: #0000ff;">this</span><span style="color: #000000;">.age);
    }

    </span><span style="color: #008000;">//</span><span style="color: #008000;"> 判断是否为同龄人</span>
    <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">boolean</span><span style="color: #000000;"> equalsAge(Person p) {
        </span><span style="color: #008000;">//</span><span style="color: #008000;"> 使用当前调用该equalsAge方法对象的age和传递进来p的age进行比较
        </span><span style="color: #008000;">//</span><span style="color: #008000;"> 由于无法确定具体是哪一个对象调用equalsAge方法，这里就可以使用this来代替</span>
        <span style="color: #008000;">/*</span><span style="color: #008000;">
         * if(this.age == p.age) { return true; } return false;
         </span><span style="color: #008000;">*/</span>
        <span style="color: #0000ff;">return</span> <span style="color: #0000ff;">this</span>.age ==<span style="color: #000000;"> p.age;
    }
}</span></code></pre>

<p>&nbsp;</p>

</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>