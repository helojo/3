<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Java13 闪亮来袭，你是否还停留在 Java8' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Java13 闪亮来袭，你是否还停留在 Java8</center></div><div class='banquan'>原文出处:本文由博客园博主Java知己提供。<br/>
原文连接:https://www.cnblogs.com/java-friend/p/11576726.html</div><br>
    <p>近期 Java 界好消息频传。先是 Java 13 发布，接着 Eclipse 也发布了新版本表示支持新版本的 Java 特性。<br />
本文介绍了 Java 13 的新特性并展示了相关的示例。</p>
<p>2019 年 9 月 17 日，Java 13 正式发布。特性如下。</p>
<h2 id="java-13-新特性">Java 13 新特性</h2>
<p>此版本带来了以下几大新特性：</p>
<ul>
<li>JEP 350，Dynamic CDS Archives：扩展应用程序类 - 数据共享，以允许在 Java 应用程序执行结束时动态归档类。归档类将包括默认的基础层 CDS（class data-sharing）存档中不存在的所有已加载的应用程序类和库类。</li>
<li>JEP 351，ZGC: Uncommit Unused Memory：增强 ZGC 以将未使用的堆内存返回给操作系统。</li>
<li>JEP 353，Reimplement the Legacy Socket API：使用易于维护和调试的更简单、更现代的实现替换 java.net.Socket 和 java.net.ServerSocket API 使用的底层实现。</li>
<li>JEP 354，Switch Expressions (Preview)：可在生产环境中使用的 switch 表达式，JDK 13 中将带来一个 beta 版本实现。switch 表达式扩展了 switch 语句，使其不仅可以作为语句（statement），还可以作为表达式（expression），并且两种写法都可以使用传统的 switch 语法，或者使用简化的 “case L -&gt;” 模式匹配语法作用于不同范围并控制执行流。这些更改将简化日常编码工作，并为 switch 中的模式匹配（JEP 305）做好准备。</li>
<li>JEP 355，Text Blocks (Preview)：将文本块添加到 Java 语言。文本块是一个多行字符串文字，它避免了对大多数转义序列的需要，以可预测的方式自动格式化字符串，并在需要时让开发人员控制格式。</li>
</ul>
<h2 id="安装-jdk-13">安装 JDK 13</h2>
<p>JDK 13 下载地址为 。</p>
<p>以 Windows 环境为例，可通过 jdk-13_windows-x64_bin.exe 或 jdk-13_windows-x64_bin.zip 来进行安装。 .exe 文件的安装方式较为简单，按照界面提示点击 “下一步” 即可。</p>
<p>下面演示. zip 安装方式。</p>
<h3 id="解压.-zip-文件到指定位置">1. 解压. zip 文件到指定位置</h3>
<p>将 jdk-13_windows-x64_bin.zip 文件解压到指定的目录下即可。比如，本例子放置在了<code>D:\Program Files\jdk-13</code>位置。</p>
<h3 id="设置环境变量">2. 设置环境变量</h3>
<p>创建系统变量 “JAVA_HOME”，其值指向了 JDK 的安装目录。</p>
<p><img src="./images/Java13 闪亮来袭，你是否还停留在 Java80.png" /></p>
<p>在用户变量 “Path” 中，增加“%JAVA_HOME%\bin”。</p>
<p><img src="./images/Java13 闪亮来袭，你是否还停留在 Java81.png" /></p>
<p>注：JDK13 已经无需再安装 JRE，设置环境变量时也不用设置 CLASSPATH 了。</p>
<h3 id="验证安装">3. 验证安装</h3>
<p>执行 “java -version” 命令进行安装的验证：</p>
<pre><code><code>$ java -version
java version &quot;13&quot; 2019-09-17
Java(TM) SE Runtime Environment (build 13+33)
Java HotSpot(TM) 64-Bit Server VM (build 13+33, mixed mode, sharing)
</code></code></pre>
<p>如果显示上述信息，则说明 JDK 已经安装完成。</p>
<p>如果显示的内容还是安装前的老 JDK 版本，则可按照如下步骤解决。</p>
<p>首先，卸载老版本的 JDK</p>
<p><img src="./images/Java13 闪亮来袭，你是否还停留在 Java82.png" /></p>
<p>其次，在命令行输入如下指令来设置 JAVA_HOM 和 Path：</p>
<pre><code><code>&gt;SET JAVA_HOME=D:\Program Files\jdk-13

&gt;SET Path=%JAVA_HOME%\bin
</code></code></pre>
<h2 id="eclipse-ide-2019-09">Eclipse IDE 2019-09</h2>
<p>在 Java 13 发布两天后的 2019 年 9 月 19 日，Eclipse IDE 2019-09 发布。Eclipse IDE 2019-09 声称支持 Java 13。接下里将演示如何使用 Eclipse IDE 2019-09 编写 Java 13 的示例。</p>
<p>Eclipse IDE 2019-09 下载地址为 <a href="https://www.eclipse.org/downloads/packages/" class="uri">https://www.eclipse.org/downloads/packages/</a>。本例使用的是 Eclipse 4.14 版本。</p>
<h2 id="编写-java-13-示例">编写 Java 13 示例</h2>
<h3 id="实战-1switch-表达式的例子">实战 1：Switch 表达式的例子</h3>
<p>下面是原有的 Switch 表达式的写法：</p>
<pre><code><code>switch (day) {
    case MONDAY:
    case FRIDAY:
    case SUNDAY:
        System.out.println(6);
        break;
    case TUESDAY:
        System.out.println(7);
        break;
    case THURSDAY:
    case SATURDAY:
        System.out.println(8);
        break;
    case WEDNESDAY:
        System.out.println(9);
        break;
}
</code></code></pre>
<p>在 Java 12 中，Switch 表达式可以改为如下写法：</p>
<pre><code><code>switch (day) {
    case MONDAY, FRIDAY, SUNDAY -&gt; System.out.println(6);
    case TUESDAY                -&gt; System.out.println(7);
    case THURSDAY, SATURDAY     -&gt; System.out.println(8);
    case WEDNESDAY              -&gt; System.out.println(9);
}
</code></code></pre>
<p>还能支持在表达式中返回值：</p>
<pre><code><code>int numLetters = switch (day) {
    case MONDAY, FRIDAY, SUNDAY -&gt; 6;
    case TUESDAY                -&gt; 7;
    case THURSDAY, SATURDAY     -&gt; 8;
    case WEDNESDAY              -&gt; 9;
};
</code></code></pre>
<p>在 Java 13 中，Switch 表达式可以改为如下写法：</p>
<pre><code><code>int date = switch (day) {
    case MONDAY, FRIDAY, SUNDAY : yield 6;
    case TUESDAY                : yield 7;
    case THURSDAY, SATURDAY     : yield 8;
    case WEDNESDAY              : yield 9;
    default                     : yield 1; // default条件是必须的
};

System.out.println(date);
</code></code></pre>
<p>需要注意的是，在使用 yield 时，必须要有 default 条件。</p>
<h3 id="实战-2文本块">实战 2：文本块</h3>
<p>自 Java 13 开始，支持文本块（Text Blocks）。</p>
<p>以下是 Java 13 之前的文本块的处理方式的示例：</p>
<pre><code><code>String html = &quot;&lt;html&gt;\n&quot; +
                  &quot;    &lt;body&gt;\n&quot; +
                  &quot;        &lt;p&gt;Hello, world&lt;/p&gt;\n&quot; +
                  &quot;    &lt;/body&gt;\n&quot; +
                  &quot;&lt;/html&gt;\n&quot;;

System.out.println(html);
</code></code></pre>
<p>在上述示例中，由于文本块需要换行，所以产生了很多本文的拼接和转义。</p>
<p>以下是 Java 13 中的文本块示例：</p>
<pre><code><code>String html2 = &quot;&quot;&quot;
                  &lt;html&gt;
                      &lt;body&gt;
                          &lt;p&gt;Hello, world&lt;/p&gt;
                      &lt;/body&gt;
                  &lt;/html&gt;
                  &quot;&quot;&quot;;
        
System.out.println(html2);
</code></code></pre>
<p>在上述示例中，对于文本块的处理变得简洁、自然。</p>
<p>以上两个示例在控制台输出内容都是一样的，效果如下：</p>
<pre><code><code>&lt;html&gt;
    &lt;body&gt;
        &lt;p&gt;Hello, world&lt;/p&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></code></pre>
<hr />
<blockquote>
<p>“不积跬步，无以至千里”，希望未来的你能：有梦为马 随处可栖！加油，少年！</p>
</blockquote>
<p>关注公众号:<strong>「Java 知己」</strong>，每天更新Java知识哦，期待你的到来！</p>
<ul>
<li>发送「<strong>Group</strong>」，与 10 万程序员一起进步。</li>
<li>发送「<strong>面试</strong>」，领取BATJ面试资料、面试视频攻略。</li>
<li>发送「<strong>玩转算法</strong>」，领取《玩转算法》系列视频教程。</li>
<li>千万不要发送「<strong>1024</strong>」...</li>
</ul>
<p><img src="./images/Java13 闪亮来袭，你是否还停留在 Java83.png" /></p>


</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>