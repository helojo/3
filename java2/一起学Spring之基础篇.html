<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修一起学Spring之基础篇' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>一起学Spring之基础篇</center></div><div class='banquan'>原文出处:本文由博客园博主Alan.hsiang提供。<br/>
原文连接:https://www.cnblogs.com/hsiang/p/11612320.html</div><br>
    <p>本文主要讲解Spring的基础环境搭建以及演变由来，仅供学习分享使用，如有不足之处，还请指正。</p>
<h2><span style="color: #339966;">什么是Spring ?</span></h2>
<p>Spring是一个开源框架，用来处理业务逻辑层和其他层之间的耦合问题。因此Spring将面向接口开发的思想贯穿整个系统应用，且Spring是一个轻量级框架，所以在诞生之初，便风靡Java开发市场，得到了广泛的认可与响应。</p>
<h2><span style="color: #339966;">Spring基础概念</span></h2>
<p>依赖注入（DI:Dependency Injection）又叫控制反转（IoC:Inversion of Control）：将组件对象的控制权从代码本身，转移到外部容器。Spring容器也是一个IoC容器，用来管理所有的Java Bean，主要是通过BeanFactory来进行产生和管理Bean。</p>
<h2><span style="color: #339966;">Spring框架搭建</span></h2>
<h3><span style="color: #800080;">1. 建立一个Java Project</span></h3>
<p>Spring框架是即支持Java Project，又支持Dynamic Web Project，如下所示：</p>
<p><img src="./images/一起学Spring之基础篇0.png" alt="" width="451" height="296" /></p>
<h3><span style="color: #800080;">2. 导入Spring框架需要的Jar包</span></h3>
<p>Spring框架搭建需要的包共6个，如下所示：</p>
<src class="cnblogs_code">
<pre><code><span style="color: #008080;">1</span> <span style="color: #008000;">//</span><span style="color: #008000;">日志包</span>
<span style="color: #008080;">2</span> commons-logging-1.1.1<span style="color: #000000;">.jar
</span><span style="color: #008080;">3</span> <span style="color: #008000;">//</span><span style="color: #008000;">spring核心包</span>
<span style="color: #008080;">4</span> spring-aop-4.0.6<span style="color: #000000;">.RELEASE.jar
</span><span style="color: #008080;">5</span> spring-beans-4.0.6<span style="color: #000000;">.RELEASE.jar
</span><span style="color: #008080;">6</span> spring-context-4.0.6<span style="color: #000000;">.RELEASE.jar
</span><span style="color: #008080;">7</span> spring-core-4.0.6<span style="color: #000000;">.RELEASE.jar
</span><span style="color: #008080;">8</span> spring-expression-4.0.6.RELEASE.jar</code></pre>

<h3><span style="color: #800080;">3. 配置Spring配置文件</span></h3>
<p>对于Java Project来说，applicationContext.xml必须放在src目录，如下所示：</p>
<src class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">&lt;?</span><span style="color: #ff00ff;">xml version="1.0" encoding="UTF-8"</span><span style="color: #0000ff;">?&gt;</span>
<span style="color: #008080;"> 2</span> <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">beans </span><span style="color: #ff0000;">xmlns</span><span style="color: #0000ff;">="http://www.springframework.org/schema/beans"</span>
<span style="color: #008080;"> 3</span> <span style="color: #ff0000;">xmlns:xsi</span><span style="color: #0000ff;">="http://www.w3.org/2001/XMLSchema-instance"</span>
<span style="color: #008080;"> 4</span> <span style="color: #ff0000;">xsi:schemaLocation</span><span style="color: #0000ff;">="http://www.springframework.org/schema/beans
</span><span style="color: #008080;"> 5</span> <span style="color: #0000ff;"> http://www.springframework.org/schema/beans/spring-beans.xsd"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;"> 6</span>      <span style="color: #008000;">&lt;!--</span><span style="color: #008000;"> 此文件默认放置在src目录 </span><span style="color: #008000;">--&gt;</span>
<span style="color: #008080;"> 7</span>      <span style="color: #008000;">&lt;!--</span><span style="color: #008000;"> id表示唯一标识，class表示类型，必须为全路径 </span><span style="color: #008000;">--&gt;</span>
<span style="color: #008080;"> 8</span>     <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">bean </span><span style="color: #ff0000;">id</span><span style="color: #0000ff;">="student"</span><span style="color: #ff0000;"> class</span><span style="color: #0000ff;">="com.hex.first.Student"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;"> 9</span>         <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">property </span><span style="color: #ff0000;">name</span><span style="color: #0000ff;">="id"</span><span style="color: #ff0000;"> value</span><span style="color: #0000ff;">="1"</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">property</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">10</span>         <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">property </span><span style="color: #ff0000;">name</span><span style="color: #0000ff;">="name"</span><span style="color: #ff0000;"> value</span><span style="color: #0000ff;">="hex"</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">property</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">11</span>         <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">property </span><span style="color: #ff0000;">name</span><span style="color: #0000ff;">="age"</span><span style="color: #ff0000;"> value</span><span style="color: #0000ff;">="20"</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">property</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">12</span>     <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">bean</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">13</span> <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">beans</span><span style="color: #0000ff;">&gt;</span></code></pre>

<p>对于配置文件中的Student类，定义如下：</p>
<src class="cnblogs_code" onclick="cnblogs_code_show('b5a7e91f-e387-4f89-82bd-bf5cbff9d8b6')"><img id="code_img_closed_b5a7e91f-e387-4f89-82bd-bf5cbff9d8b6" class="code_img_closed" src="./images/一起学Spring之基础篇1.png" alt="" /><img id="code_img_opened_b5a7e91f-e387-4f89-82bd-bf5cbff9d8b6" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('b5a7e91f-e387-4f89-82bd-bf5cbff9d8b6',event)" src="./images/一起学Spring之基础篇2.png" alt="" />
<src id="cnblogs_code_open_b5a7e91f-e387-4f89-82bd-bf5cbff9d8b6" class="cnblogs_code_hide">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">package</span><span style="color: #000000;"> com.hex.first;
</span><span style="color: #008080;"> 2</span> 
<span style="color: #008080;"> 3</span> <span style="color: #008000;">/**</span>
<span style="color: #008080;"> 4</span> <span style="color: #008000;"> * 定义一个学生类
</span><span style="color: #008080;"> 5</span> <span style="color: #008000;"> * </span><span style="color: #808080;">@author</span><span style="color: #008000;"> Administrator
</span><span style="color: #008080;"> 6</span> <span style="color: #008000;"> *
</span><span style="color: #008080;"> 7</span>  <span style="color: #008000;">*/</span>
<span style="color: #008080;"> 8</span> <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Student {
</span><span style="color: #008080;"> 9</span>     
<span style="color: #008080;">10</span>     <span style="color: #008000;">/*</span>
<span style="color: #008080;">11</span> <span style="color: #008000;">     * 学生ID
</span><span style="color: #008080;">12</span>      <span style="color: #008000;">*/</span>
<span style="color: #008080;">13</span>     <span style="color: #0000ff;">private</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> id;
</span><span style="color: #008080;">14</span> 
<span style="color: #008080;">15</span>     <span style="color: #008000;">/*</span>
<span style="color: #008080;">16</span> <span style="color: #008000;">     * 学生姓名
</span><span style="color: #008080;">17</span>      <span style="color: #008000;">*/</span>
<span style="color: #008080;">18</span>     <span style="color: #0000ff;">private</span><span style="color: #000000;"> String name;
</span><span style="color: #008080;">19</span>     
<span style="color: #008080;">20</span>     <span style="color: #008000;">/**</span>
<span style="color: #008080;">21</span> <span style="color: #008000;">     * 年龄
</span><span style="color: #008080;">22</span>      <span style="color: #008000;">*/</span>
<span style="color: #008080;">23</span>     <span style="color: #0000ff;">private</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> age;
</span><span style="color: #008080;">24</span>     
<span style="color: #008080;">25</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> getId() {
</span><span style="color: #008080;">26</span>         <span style="color: #0000ff;">return</span><span style="color: #000000;"> id;
</span><span style="color: #008080;">27</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">28</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span> setId(<span style="color: #0000ff;">int</span><span style="color: #000000;"> id) {
</span><span style="color: #008080;">29</span>         <span style="color: #0000ff;">this</span>.id =<span style="color: #000000;"> id;
</span><span style="color: #008080;">30</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">31</span>     <span style="color: #0000ff;">public</span><span style="color: #000000;"> String getName() {
</span><span style="color: #008080;">32</span>         <span style="color: #0000ff;">return</span><span style="color: #000000;"> name;
</span><span style="color: #008080;">33</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">34</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> setName(String name) {
</span><span style="color: #008080;">35</span>         <span style="color: #0000ff;">this</span>.name =<span style="color: #000000;"> name;
</span><span style="color: #008080;">36</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">37</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> getAge() {
</span><span style="color: #008080;">38</span>         <span style="color: #0000ff;">return</span><span style="color: #000000;"> age;
</span><span style="color: #008080;">39</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">40</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span> setAge(<span style="color: #0000ff;">int</span><span style="color: #000000;"> age) {
</span><span style="color: #008080;">41</span>         <span style="color: #0000ff;">this</span>.age =<span style="color: #000000;"> age;
</span><span style="color: #008080;">42</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">43</span>     
<span style="color: #008080;">44</span> <span style="color: #000000;">    @Override
</span><span style="color: #008080;">45</span>     <span style="color: #0000ff;">public</span><span style="color: #000000;"> String toString() {
</span><span style="color: #008080;">46</span>         <span style="color: #008000;">//</span><span style="color: #008000;"> TODO Auto-generated method stub</span>
<span style="color: #008080;">47</span>         <span style="color: #0000ff;">return</span> "ID="+id+",Name="+name+",Age="+<span style="color: #000000;">age;
</span><span style="color: #008080;">48</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">49</span> }</code></pre>

<span class="cnblogs_code_collapse">View Code</span>
<h3><span style="color: #800080;">4. 声明对象</span></h3>
<p>对于常规声明对象和采用Spring获取对象的方式如下：</p>
<src class="cnblogs_code" onclick="cnblogs_code_show('c1f848a5-462b-49a6-92bd-d34deb1218e6')"><img id="code_img_closed_c1f848a5-462b-49a6-92bd-d34deb1218e6" class="code_img_closed" src="./images/一起学Spring之基础篇1.png" alt="" /><img id="code_img_opened_c1f848a5-462b-49a6-92bd-d34deb1218e6" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('c1f848a5-462b-49a6-92bd-d34deb1218e6',event)" src="./images/一起学Spring之基础篇2.png" alt="" />
<src id="cnblogs_code_open_c1f848a5-462b-49a6-92bd-d34deb1218e6" class="cnblogs_code_hide">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #008000;">//</span><span style="color: #008000;">常规New对象方法声明一个对象</span>
<span style="color: #008080;"> 2</span> Student student=<span style="color: #0000ff;">new</span><span style="color: #000000;"> Student();
</span><span style="color: #008080;"> 3</span> student.setId(1<span style="color: #000000;">);
</span><span style="color: #008080;"> 4</span> student.setName("hex"<span style="color: #000000;">);
</span><span style="color: #008080;"> 5</span> student.setAge(20<span style="color: #000000;">);
</span><span style="color: #008080;"> 6</span> <span style="color: #000000;">System.out.println(student);
</span><span style="color: #008080;"> 7</span> <span style="color: #008000;">//</span><span style="color: #008000;">通过Spring进行注入，Spring上下文对象</span>
<span style="color: #008080;"> 8</span> ApplicationContext context=<span style="color: #0000ff;">new</span> ClassPathXmlApplicationContext("applicationContext.xml"<span style="color: #000000;">);
</span><span style="color: #008080;"> 9</span> <span style="color: #008000;">//</span><span style="color: #008000;">从Spring的IOC容器中获取id为student的bean对象</span>
<span style="color: #008080;">10</span> Student student01=(Student) context.getBean("student"<span style="color: #000000;">);
</span><span style="color: #008080;">11</span> System.out.println(student01);</code></pre>

<span class="cnblogs_code_collapse">View Code</span>
<h3><span style="color: #800080;">5. 测试结果</span></h3>
<p>如下所示：</p>
<p><img src="./images/一起学Spring之基础篇5.png" alt="" width="510" height="101" /></p>
<h2><span style="color: #339966;">采用Spring方式和传统方式的区别有哪些</span></h2>
<p>传统方式全部采用硬编码的方式，一旦有变动，就需要修改代码，而Spring采用注入的方式，将可变的东西放在配置文件中，便于修改。</p>
<h3><span style="color: #800080;">1. 首先假设一种场景，学生有一个学习课程的需求</span></h3>
<p>关于课程的接口（ICourse），定义如下：</p>
<src class="cnblogs_code" onclick="cnblogs_code_show('22675896-2fef-44c4-88b3-00bfa7116a0d')"><img id="code_img_closed_22675896-2fef-44c4-88b3-00bfa7116a0d" class="code_img_closed" src="./images/一起学Spring之基础篇1.png" alt="" /><img id="code_img_opened_22675896-2fef-44c4-88b3-00bfa7116a0d" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('22675896-2fef-44c4-88b3-00bfa7116a0d',event)" src="./images/一起学Spring之基础篇2.png" alt="" />
<src id="cnblogs_code_open_22675896-2fef-44c4-88b3-00bfa7116a0d" class="cnblogs_code_hide">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #008000;">/**</span>
<span style="color: #008080;"> 2</span> <span style="color: #008000;"> * 定义一个课程接口
</span><span style="color: #008080;"> 3</span> <span style="color: #008000;"> * </span><span style="color: #808080;">@author</span><span style="color: #008000;"> Administrator
</span><span style="color: #008080;"> 4</span> <span style="color: #008000;"> *
</span><span style="color: #008080;"> 5</span>  <span style="color: #008000;">*/</span>
<span style="color: #008080;"> 6</span> <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">interface</span><span style="color: #000000;"> ICourse {
</span><span style="color: #008080;"> 7</span>     
<span style="color: #008080;"> 8</span>     <span style="color: #008000;">/**</span>
<span style="color: #008080;"> 9</span> <span style="color: #008000;">     * 学习
</span><span style="color: #008080;">10</span>      <span style="color: #008000;">*/</span>
<span style="color: #008080;">11</span>     <span style="color: #0000ff;">void</span><span style="color: #000000;"> learn();
</span><span style="color: #008080;">12</span> }</code></pre>

<span class="cnblogs_code_collapse">View Code</span>
<p>分别有两个实现类：JavaCourse和HtmlCourse，代码如下：</p>
<src class="cnblogs_code" onclick="cnblogs_code_show('0b3f3d7f-fa9f-4ebc-9ec5-30c873c7bd5a')"><img id="code_img_closed_0b3f3d7f-fa9f-4ebc-9ec5-30c873c7bd5a" class="code_img_closed" src="./images/一起学Spring之基础篇1.png" alt="" /><img id="code_img_opened_0b3f3d7f-fa9f-4ebc-9ec5-30c873c7bd5a" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('0b3f3d7f-fa9f-4ebc-9ec5-30c873c7bd5a',event)" src="./images/一起学Spring之基础篇2.png" alt="" />
<src id="cnblogs_code_open_0b3f3d7f-fa9f-4ebc-9ec5-30c873c7bd5a" class="cnblogs_code_hide">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">package</span><span style="color: #000000;"> com.hex.first;
</span><span style="color: #008080;"> 2</span> 
<span style="color: #008080;"> 3</span> <span style="color: #008000;">/**</span>
<span style="color: #008080;"> 4</span> <span style="color: #008000;"> * 学习Java课程
</span><span style="color: #008080;"> 5</span> <span style="color: #008000;"> * </span><span style="color: #808080;">@author</span><span style="color: #008000;"> Administrator
</span><span style="color: #008080;"> 6</span> <span style="color: #008000;"> *
</span><span style="color: #008080;"> 7</span>  <span style="color: #008000;">*/</span>
<span style="color: #008080;"> 8</span> <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span> JavaCourse <span style="color: #0000ff;">implements</span><span style="color: #000000;"> ICourse {
</span><span style="color: #008080;"> 9</span> 
<span style="color: #008080;">10</span> <span style="color: #000000;">    @Override
</span><span style="color: #008080;">11</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> learn() {
</span><span style="color: #008080;">12</span>         System.out.println("学习Java课程。。。"<span style="color: #000000;">);
</span><span style="color: #008080;">13</span> 
<span style="color: #008080;">14</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">15</span> 
<span style="color: #008080;">16</span> }</code></pre>

<span class="cnblogs_code_collapse">View Code</span>
<p>和</p>
<src class="cnblogs_code" onclick="cnblogs_code_show('e2c59e26-76ae-42d8-a615-fd0740d35d8f')"><img id="code_img_closed_e2c59e26-76ae-42d8-a615-fd0740d35d8f" class="code_img_closed" src="./images/一起学Spring之基础篇1.png" alt="" /><img id="code_img_opened_e2c59e26-76ae-42d8-a615-fd0740d35d8f" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('e2c59e26-76ae-42d8-a615-fd0740d35d8f',event)" src="./images/一起学Spring之基础篇2.png" alt="" />
<src id="cnblogs_code_open_e2c59e26-76ae-42d8-a615-fd0740d35d8f" class="cnblogs_code_hide">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">package</span><span style="color: #000000;"> com.hex.first;
</span><span style="color: #008080;"> 2</span> 
<span style="color: #008080;"> 3</span> <span style="color: #008000;">/**</span>
<span style="color: #008080;"> 4</span> <span style="color: #008000;"> * 学习Html课程
</span><span style="color: #008080;"> 5</span> <span style="color: #008000;"> * </span><span style="color: #808080;">@author</span><span style="color: #008000;"> Administrator
</span><span style="color: #008080;"> 6</span> <span style="color: #008000;"> *
</span><span style="color: #008080;"> 7</span>  <span style="color: #008000;">*/</span>
<span style="color: #008080;"> 8</span> <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span> HtmlCourse <span style="color: #0000ff;">implements</span><span style="color: #000000;"> ICourse {
</span><span style="color: #008080;"> 9</span> 
<span style="color: #008080;">10</span> <span style="color: #000000;">    @Override
</span><span style="color: #008080;">11</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> learn() {
</span><span style="color: #008080;">12</span>         System.out.println("学习Html课程。。。"<span style="color: #000000;">);
</span><span style="color: #008080;">13</span> 
<span style="color: #008080;">14</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">15</span> 
<span style="color: #008080;">16</span> }</code></pre>

<span class="cnblogs_code_collapse">View Code</span>
<h2><span style="color: #339966;">如果一个学生要学习这两门课程，有以下三种实现方案：</span></h2>
<h3><span style="color: #800080;">1. 第一种：原始的多态方法</span></h3>
<p>在Student类中增加两个方法，分别用来学习Java和Html，如下所示：</p>
<src class="cnblogs_code" onclick="cnblogs_code_show('bad1af7d-18fc-4517-b86e-4f0901d32a1c')"><img id="code_img_closed_bad1af7d-18fc-4517-b86e-4f0901d32a1c" class="code_img_closed" src="./images/一起学Spring之基础篇1.png" alt="" /><img id="code_img_opened_bad1af7d-18fc-4517-b86e-4f0901d32a1c" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('bad1af7d-18fc-4517-b86e-4f0901d32a1c',event)" src="./images/一起学Spring之基础篇2.png" alt="" />
<src id="cnblogs_code_open_bad1af7d-18fc-4517-b86e-4f0901d32a1c" class="cnblogs_code_hide">
<pre><code><span style="color: #008080;"> 1</span>     <span style="color: #008000;">/**</span>
<span style="color: #008080;"> 2</span> <span style="color: #008000;">     * 学习Java
</span><span style="color: #008080;"> 3</span>      <span style="color: #008000;">*/</span>
<span style="color: #008080;"> 4</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> learnJava(){
</span><span style="color: #008080;"> 5</span>         ICourse course=<span style="color: #0000ff;">new</span><span style="color: #000000;"> JavaCourse();
</span><span style="color: #008080;"> 6</span> <span style="color: #000000;">        course.learn();
</span><span style="color: #008080;"> 7</span> <span style="color: #000000;">    }
</span><span style="color: #008080;"> 8</span>     
<span style="color: #008080;"> 9</span>     <span style="color: #008000;">/**</span>
<span style="color: #008080;">10</span> <span style="color: #008000;">     * 学习Html
</span><span style="color: #008080;">11</span>      <span style="color: #008000;">*/</span>
<span style="color: #008080;">12</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> learnHtml(){
</span><span style="color: #008080;">13</span>         ICourse course=<span style="color: #0000ff;">new</span><span style="color: #000000;"> HtmlCourse();
</span><span style="color: #008080;">14</span> <span style="color: #000000;">        course.learn();
</span><span style="color: #008080;">15</span>     }</code></pre>

<span class="cnblogs_code_collapse">View Code</span>
<p>调用代码如下：</p>
<src class="cnblogs_code" onclick="cnblogs_code_show('e5743417-d660-4b3f-98f4-ab5680efb950')"><img id="code_img_closed_e5743417-d660-4b3f-98f4-ab5680efb950" class="code_img_closed" src="./images/一起学Spring之基础篇1.png" alt="" /><img id="code_img_opened_e5743417-d660-4b3f-98f4-ab5680efb950" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('e5743417-d660-4b3f-98f4-ab5680efb950',event)" src="./images/一起学Spring之基础篇2.png" alt="" />
<src id="cnblogs_code_open_e5743417-d660-4b3f-98f4-ab5680efb950" class="cnblogs_code_hide">
<pre><code><span style="color: #008080;">1</span> <span style="color: #008000;">//</span><span style="color: #008000;">第1种，最原始的多态方法</span>
<span style="color: #008080;">2</span> System.out.println("第1种，最原始的多态方法:"<span style="color: #000000;">);
</span><span style="color: #008080;">3</span> <span style="color: #000000;">student.learnJava();
</span><span style="color: #008080;">4</span> student.learnHtml();</code></pre>

<span class="cnblogs_code_collapse">View Code</span>
<p>备注：此方案导致学生和课程之间形成强耦合关系，假如需要增加一种学习Python语言的课程，需要增加接口的实现类（PythonCourse），修改Student类，增加learnPython方法，改动较大，或者有些学生只学其中一门课程，而另一些学生学两门课程，采用此方案会比较麻烦。</p>
<h3><span style="background-color: #ffffff; color: #800080;">2. 第二种：采用简单工厂方法，将课程的创建抽离出来，由工厂统一管理。</span></h3>
<p>在Student中增加一个学习（learn）方法：</p>
<src class="cnblogs_code" onclick="cnblogs_code_show('ad4400f0-4f58-4dc9-a7d0-8aa567eb2c7d')"><img id="code_img_closed_ad4400f0-4f58-4dc9-a7d0-8aa567eb2c7d" class="code_img_closed" src="./images/一起学Spring之基础篇1.png" alt="" /><img id="code_img_opened_ad4400f0-4f58-4dc9-a7d0-8aa567eb2c7d" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('ad4400f0-4f58-4dc9-a7d0-8aa567eb2c7d',event)" src="./images/一起学Spring之基础篇2.png" alt="" />
<src id="cnblogs_code_open_ad4400f0-4f58-4dc9-a7d0-8aa567eb2c7d" class="cnblogs_code_hide">
<pre><code><span style="color: #008080;">1</span>         <span style="color: #008000;">/**</span>
<span style="color: #008080;">2</span> <span style="color: #008000;">     * 学习通过参数区分
</span><span style="color: #008080;">3</span> <span style="color: #008000;">     * </span><span style="color: #808080;">@param</span><span style="color: #008000;"> name
</span><span style="color: #008080;">4</span>      <span style="color: #008000;">*/</span>
<span style="color: #008080;">5</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> learn(String name){
</span><span style="color: #008080;">6</span>         ICourse course=<span style="color: #000000;">CourseFactory.getCourse(name);
</span><span style="color: #008080;">7</span> <span style="color: #000000;">        course.learn();
</span><span style="color: #008080;">8</span>     }</code></pre>

<span class="cnblogs_code_collapse">View Code</span>
<p>增加工厂类（CourseFactory）</p>
<src class="cnblogs_code" onclick="cnblogs_code_show('c9e69b80-46df-4089-bac2-237c13b8ba59')"><img id="code_img_closed_c9e69b80-46df-4089-bac2-237c13b8ba59" class="code_img_closed" src="./images/一起学Spring之基础篇1.png" alt="" /><img id="code_img_opened_c9e69b80-46df-4089-bac2-237c13b8ba59" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('c9e69b80-46df-4089-bac2-237c13b8ba59',event)" src="./images/一起学Spring之基础篇2.png" alt="" />
<src id="cnblogs_code_open_c9e69b80-46df-4089-bac2-237c13b8ba59" class="cnblogs_code_hide">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">package</span><span style="color: #000000;"> com.hex.first;
</span><span style="color: #008080;"> 2</span> 
<span style="color: #008080;"> 3</span> <span style="color: #008000;">/**</span>
<span style="color: #008080;"> 4</span> <span style="color: #008000;"> * 课程工厂
</span><span style="color: #008080;"> 5</span> <span style="color: #008000;"> * </span><span style="color: #808080;">@author</span><span style="color: #008000;"> Administrator
</span><span style="color: #008080;"> 6</span> <span style="color: #008000;"> *
</span><span style="color: #008080;"> 7</span>  <span style="color: #008000;">*/</span>
<span style="color: #008080;"> 8</span> <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> CourseFactory {
</span><span style="color: #008080;"> 9</span>     
<span style="color: #008080;">10</span>     <span style="color: #008000;">/**</span>
<span style="color: #008080;">11</span> <span style="color: #008000;">     * 获取课程对象
</span><span style="color: #008080;">12</span> <span style="color: #008000;">     * </span><span style="color: #808080;">@param</span><span style="color: #008000;"> name
</span><span style="color: #008080;">13</span> <span style="color: #008000;">     * </span><span style="color: #808080;">@return</span>
<span style="color: #008080;">14</span>      <span style="color: #008000;">*/</span>
<span style="color: #008080;">15</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span><span style="color: #000000;"> ICourse getCourse(String name){
</span><span style="color: #008080;">16</span>         <span style="color: #0000ff;">if</span>(name.equals("java"<span style="color: #000000;">)){
</span><span style="color: #008080;">17</span>             <span style="color: #0000ff;">return</span> <span style="color: #0000ff;">new</span><span style="color: #000000;"> JavaCourse();
</span><span style="color: #008080;">18</span>         }<span style="color: #0000ff;">else</span><span style="color: #000000;">{
</span><span style="color: #008080;">19</span>             <span style="color: #0000ff;">return</span> <span style="color: #0000ff;">new</span><span style="color: #000000;"> HtmlCourse();
</span><span style="color: #008080;">20</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">21</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">22</span> }</code></pre>

<span class="cnblogs_code_collapse">View Code</span>
<p>然后客户端调用时只需要传字符串就行。如下所示：</p>
<src class="cnblogs_code" onclick="cnblogs_code_show('1c0b16cb-83a5-4085-98fa-ad2c0035c8ec')"><img id="code_img_closed_1c0b16cb-83a5-4085-98fa-ad2c0035c8ec" class="code_img_closed" src="./images/一起学Spring之基础篇1.png" alt="" /><img id="code_img_opened_1c0b16cb-83a5-4085-98fa-ad2c0035c8ec" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('1c0b16cb-83a5-4085-98fa-ad2c0035c8ec',event)" src="./images/一起学Spring之基础篇2.png" alt="" />
<src id="cnblogs_code_open_1c0b16cb-83a5-4085-98fa-ad2c0035c8ec" class="cnblogs_code_hide">
<pre><code><span style="color: #008080;">1</span> <span style="color: #008000;">//</span><span style="color: #008000;">第2种，简单工厂方法</span>
<span style="color: #008080;">2</span> System.out.println("第2种，简单工厂方法:"<span style="color: #000000;">);
</span><span style="color: #008080;">3</span> student.learn("java"<span style="color: #000000;">);
</span><span style="color: #008080;">4</span> student.learn("html");</code></pre>

<span class="cnblogs_code_collapse">View Code</span>
<p>备注：此方案虽然将对象的创建剥离出来，由工厂进行管理，但是课程的类型还是硬编码的，还是不够完善。</p>
<h3><span style="color: #800080;">3. 第三种：采用Spring的方式，实现对象的动态注入</span></h3>
<p>在学生类中增加学习方法，参数是ICourse接口：</p>
<src class="cnblogs_code" onclick="cnblogs_code_show('437d235f-20ea-46e0-8567-bc83ec2c342c')"><img id="code_img_closed_437d235f-20ea-46e0-8567-bc83ec2c342c" class="code_img_closed" src="./images/一起学Spring之基础篇1.png" alt="" /><img id="code_img_opened_437d235f-20ea-46e0-8567-bc83ec2c342c" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('437d235f-20ea-46e0-8567-bc83ec2c342c',event)" src="./images/一起学Spring之基础篇2.png" alt="" />
<src id="cnblogs_code_open_437d235f-20ea-46e0-8567-bc83ec2c342c" class="cnblogs_code_hide">
<pre><code><span style="color: #008080;">1</span>         <span style="color: #008000;">/**</span>
<span style="color: #008080;">2</span> <span style="color: #008000;">     * 传递接口
</span><span style="color: #008080;">3</span> <span style="color: #008000;">     * </span><span style="color: #808080;">@param</span><span style="color: #008000;"> course
</span><span style="color: #008080;">4</span>      <span style="color: #008000;">*/</span>
<span style="color: #008080;">5</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> learn(ICourse course){
</span><span style="color: #008080;">6</span> <span style="color: #000000;">        course.learn();
</span><span style="color: #008080;">7</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">8</span>     </code></pre>

<span class="cnblogs_code_collapse">View Code</span>
<p>在Spring配置文件中，配置要注入的对象：</p>
<src class="cnblogs_code">
<pre><code><span style="color: #008080;">1</span> <span style="color: #008000;">&lt;!--</span><span style="color: #008000;"> 两个对象，没有属性，不需要赋值 </span><span style="color: #008000;">--&gt;</span>
<span style="color: #008080;">2</span> <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">bean </span><span style="color: #ff0000;">id</span><span style="color: #0000ff;">="java"</span><span style="color: #ff0000;"> class</span><span style="color: #0000ff;">="com.hex.first.JavaCourse"</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">bean</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">3</span> <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">bean </span><span style="color: #ff0000;">id</span><span style="color: #0000ff;">="html"</span><span style="color: #ff0000;"> class</span><span style="color: #0000ff;">="com.hex.first.HtmlCourse"</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">bean</span><span style="color: #0000ff;">&gt;</span></code></pre>

<p>通过Spring来获取对象，实现动态控制：</p>
<src class="cnblogs_code" onclick="cnblogs_code_show('3c3c6e9e-b371-4c22-bb62-dc850c87a54e')"><img id="code_img_closed_3c3c6e9e-b371-4c22-bb62-dc850c87a54e" class="code_img_closed" src="./images/一起学Spring之基础篇1.png" alt="" /><img id="code_img_opened_3c3c6e9e-b371-4c22-bb62-dc850c87a54e" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('3c3c6e9e-b371-4c22-bb62-dc850c87a54e',event)" src="./images/一起学Spring之基础篇2.png" alt="" />
<src id="cnblogs_code_open_3c3c6e9e-b371-4c22-bb62-dc850c87a54e" class="cnblogs_code_hide">
<pre><code><span style="color: #008080;">1</span> <span style="color: #008000;">//</span><span style="color: #008000;">第3种，通过SpringIOC实现</span>
<span style="color: #008080;">2</span> System.out.println("第3种，通过SpringIOC实现:"<span style="color: #000000;">);
</span><span style="color: #008080;">3</span> ICourse course=(ICourse)context.getBean("java"<span style="color: #000000;">);
</span><span style="color: #008080;">4</span> <span style="color: #000000;">student.learn(course);
</span><span style="color: #008080;">5</span> ICourse course2=(ICourse)context.getBean("html"<span style="color: #000000;">);
</span><span style="color: #008080;">6</span> student.learn(course2);</code></pre>

<span class="cnblogs_code_collapse">View Code</span>
<p>以上三种方式，均可以实现需求，至于采用哪种方案，可以依据具体实际场景而定。</p>
<h2><span style="color: #339966;">备注</span></h2>
<p>没有伞的孩子，必须努力奔跑！</p>
<p>期待一树花开，愿你叶落归来。</p>

</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>